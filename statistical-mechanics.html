<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QParadox • Statistical Mechanics</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

<!-- MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
:root{
  --bg:#0b0b0d; --panel:#131316; --ink:#efeae2; --ink2:#d8d1c8; --muted:#b9b3aa;
  --gold:#caa36b; --blue:#7aa0ff; --line:rgba(255,255,255,.14); --glass:rgba(255,255,255,.06);
  --shadow:0 18px 60px rgba(0,0,0,.72), inset 0 0 120px rgba(255,255,255,.03);
  --radius:18px; --side:330px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Crimson Text",serif; line-height:1.95; letter-spacing:.15px; overflow-x:hidden;
}
body::before{content:""; position:fixed; inset:0; z-index:-3; opacity:.06;
  background:url('https://www.transparenttextures.com/patterns/asfalt-dark.png')}
body::after{content:""; position:fixed; inset:0; z-index:-2; pointer-events:none;
  background:
    radial-gradient(900px 520px at 12% 0%, rgba(255,222,180,.09), transparent 60%),
    radial-gradient(900px 520px at 88% 12%, rgba(140,160,255,.06), transparent 60%),
    radial-gradient(1000px 620px at 50% 100%, rgba(202,163,107,.07), transparent 70%)}

/* frame + progress */
.frame{position:fixed; inset:18px; border:1px solid var(--line); border-radius:22px; pointer-events:none; box-shadow:inset 0 0 140px rgba(0,0,0,.45)}
#progress{position:fixed; top:0; left:0; height:4px; width:0; z-index:100;
  background:linear-gradient(90deg,var(--gold),var(--blue));
  box-shadow:0 0 10px rgba(202,163,107,.6)}

/* header */
header{padding:6.2rem 1.2rem 2.4rem; text-align:center}
h1{
  font-family:"Playfair Display",serif; font-weight:900; margin:0;
  font-size:clamp(2.6rem,4vw,4.8rem); line-height:1.1; color:#f5ead8;
  text-shadow:0 0 22px rgba(255,255,255,.12)
}
.subtitle{max-width:980px; margin:1rem auto 0; color:var(--ink2);
  font-size:clamp(1.05rem,1.2vw,1.2rem)}

/* layout */
.main{width:min(1200px,94%); margin:0 auto 4rem;
  display:grid; grid-template-columns:1fr; gap:26px}
@media(min-width:1120px){ .main{grid-template-columns:minmax(0, 1fr) var(--side)} }

/* article */
article{
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow);
  padding:2.2rem 1.2rem
}
@media(min-width:780px){ article{padding:2.6rem 2.2rem} }
article h2{font-family:"Playfair Display",serif;
  margin:2rem 0 1rem; font-size:clamp(1.85rem,2.6vw,2.5rem); color:#f6eddc}
.divider{height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent);
  margin:1.2rem 0}
p{margin:1.05rem 0; text-align:justify}
.dropcap:first-letter{float:left; font-family:"Playfair Display",serif;
  font-size:3.2rem; line-height:2.3rem; padding:.25rem .5rem .2rem 0; color:#f3e4c5}

/* figures */
.figure{margin:1.5rem auto; border:1px solid var(--line); border-radius:14px; overflow:hidden;
  background:#0e0f12; box-shadow:var(--shadow); max-width:820px}
.figure img{display:block; width:100%; height:auto}
.figcap{padding:.7rem .9rem; color:var(--ink2); font-size:.95rem; border-top:1px solid var(--line)}

/* highlight button */
.pwrap{position:relative; padding-right:2.5rem}
.hlbtn{
  position:absolute; right:.2rem; top:.35rem; padding:.25rem .6rem; border-radius:.6rem;
  background:var(--glass); color:var(--ink); border:1px solid var(--line);
  font-size:.85rem; cursor:pointer; opacity:0; transition:.2s}
.pwrap:hover .hlbtn{opacity:1}
.mark{background:linear-gradient(180deg, rgba(202,163,107,.3), rgba(122,160,255,.24));
  border-radius:.2rem; padding:.05rem .12rem}

/* sidebar */
aside{position:sticky; top:90px; align-self:start; height:fit-content;
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow);
  padding:1rem .9rem}
aside h3{margin:.2rem 0 .7rem; font-family:"Playfair Display",serif}
.toc a{display:block; text-decoration:none; color:var(--ink2);
  padding:.35rem .2rem; border-radius:.4rem; font-size:.95rem}
.toc a:hover{color:var(--ink)}
.toc a.active{color:#111; background:linear-gradient(90deg,var(--gold),#efd6a8)}
hr.sep{border:0; height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1rem 0}
.note{border:1px solid var(--line); border-radius:12px; padding:.7rem .75rem;
  margin:.5rem 0; background:rgba(255,255,255,.05)}
.note time{display:block; color:var(--muted); font-size:.85rem}
.note .del{margin-top:.4rem; padding:.25rem .55rem; border-radius:.5rem;
  border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer}

/* quiz */
.quiz{margin-top:1.6rem; padding:1rem; border:1px solid var(--line);
  border-radius:14px; background:rgba(255,255,255,.04)}
.qitem{margin:1rem 0; padding:.8rem; border-radius:10px;
  border:1px solid rgba(255,255,255,.12)}
.qitem h4{margin:0 0 .5rem 0; font-family:"Playfair Display",serif}
.qchoices{display:grid; gap:.45rem}
.qchoices button{text-align:left; border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.05); color:var(--ink);
  padding:.55rem .7rem; border-radius:.6rem; cursor:pointer}
.qchoices button.correct{border-color:#46d17d}
.qchoices button.wrong{border-color:#e07070}
.qfeedback{color:var(--ink2); margin-top:.4rem; font-size:.98rem}

/* nav links */
.nextrow{display:flex; gap:.6rem; flex-wrap:wrap; margin-top:1.3rem}
.nextrow a{text-decoration:none; color:var(--ink);
  border:1px solid rgba(255,255,255,.26); border-radius:.8rem;
  background:linear-gradient(90deg,rgba(202,163,107,.28),rgba(122,160,255,.22));
  padding:.7rem 1rem}

/* reveal + footer */
.reveal{opacity:0; transform:translateY(24px); transition:opacity .9s, transform .9s}
.reveal.in{opacity:1; transform:none}
footer{padding:2rem 1rem; text-align:center; color:var(--muted); border-top:1px solid var(--line)}
</style>
</head>
<body>

<div class="frame" aria-hidden="true"></div>
<div id="progress"></div>

<header class="reveal in">
  <h1>Statistical Mechanics</h1>
  <p class="subtitle">Exploring how microscopic chaos gives rise to macroscopic order — the bridge from atoms to thermodynamics.</p>
</header>

<div class="main">
  <!-- ARTICLE -->
  <article id="article">
    <h2 id="micro" class="reveal">Microstates and Macrostates</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p1">★ Highlight</button>
      <p id="p1" class="dropcap">
        Statistical mechanics begins by distinguishing between <em>microstates</em> and <em>macrostates</em>. 
        A microstate is a detailed specification of every particle in a system — its position, momentum, spin, and internal state. 
        A macrostate, by contrast, is the large-scale description: pressure, volume, temperature. 
        While the number of possible microstates grows astronomically with particle count, many microstates correspond to the same macrostate. 
        This is why macroscopic systems appear predictable despite microscopic chaos: order emerges statistically.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p2">★ Highlight</button>
      <p id="p2">
        Consider a gas in a box. Each molecule’s motion is unknowable in detail, 
        yet the gas as a whole obeys simple laws like Boyle’s law and the ideal gas equation. 
        The apparent contradiction is resolved by realizing that the macrostate reflects the overwhelmingly probable distribution of microstates. 
        The mathematics of probability is thus the foundation of thermodynamics.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="gas-box.png" alt="Molecules moving randomly in a box"/>
      <figcaption class="figcap">The chaos of microstates converges into predictable macrostates like pressure and temperature.</figcaption>
    </figure>

    <h2 id="entropy" class="reveal">Entropy and Boltzmann’s Formula</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p3">★ Highlight</button>
      <p id="p3" class="dropcap">
        Ludwig Boltzmann gave entropy a microscopic meaning with his famous equation:
        \[ S = k_B \ln \Omega \]
        where \(S\) is entropy, \(k_B\) is Boltzmann’s constant, and \(\Omega\) is the number of microstates compatible with a given macrostate. 
        Entropy is thus a measure of multiplicity — how many ways the universe can arrange itself while appearing the same at large scale. 
        The formula links probability and thermodynamics in one stroke of genius.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p4">★ Highlight</button>
      <p id="p4">
        This insight recasts the <em>second law of thermodynamics</em>. 
        Systems evolve not because entropy has mystical properties but because high-entropy states correspond to vastly more microstates than low-entropy ones. 
        A broken egg has more possible configurations than an intact one, hence breakage is natural. 
        The arrow of time itself emerges from the statistics of microstates.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="entropy-arrow.png" alt="Entropy and arrow of time diagram"/>
      <figcaption class="figcap">Entropy provides the statistical underpinning for irreversibility and the arrow of time.</figcaption>
    </figure>

    <h2 id="ensembles" class="reveal">Statistical Ensembles</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p5">★ Highlight</button>
      <p id="p5" class="dropcap">
        To make statistical mechanics practical, physicists use the concept of <em>ensembles</em>: 
        large collections of imaginary systems, each representing a possible microstate. 
        Instead of tracking one chaotic system, we average over the ensemble. 
        Three ensembles dominate physics: the <strong>microcanonical</strong>, <strong>canonical</strong>, and <strong>grand canonical</strong>.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p6">★ Highlight</button>
      <p id="p6">
        • The <strong>microcanonical ensemble</strong> fixes energy, volume, and particle number.  
        • The <strong>canonical ensemble</strong> allows energy to fluctuate while temperature is fixed, described by the Boltzmann factor \(e^{-E/k_BT}\).  
        • The <strong>grand canonical ensemble</strong> allows both energy and particle number to fluctuate, controlled by temperature and chemical potential.  
        These frameworks enable calculations from magnetic spins to photon gases.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="ensembles.png" alt="Illustration of microcanonical, canonical, and grand canonical ensembles"/>
      <figcaption class="figcap">Different ensembles suit different physical constraints, yet all converge to the same thermodynamic predictions.</figcaption>
    </figure>

    <h2 id="partition" class="reveal">Partition Function and Thermodynamics</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p7">★ Highlight</button>
      <p id="p7" class="dropcap">
        At the heart of statistical mechanics lies the <em>partition function</em>, denoted \(Z\). 
        For the canonical ensemble, it is defined as:
        \[ Z = \sum_i e^{-E_i/k_BT} \]
        where the sum runs over all microstates with energy \(E_i\). 
        From \(Z\), one can derive essentially all thermodynamic quantities: free energy, entropy, pressure, and fluctuations. 
        The partition function is the Rosetta Stone between microscopic physics and macroscopic behavior.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p8">★ Highlight</button>
      <p id="p8">
        For example, the Helmholtz free energy is \(F = -k_B T \ln Z\). 
        Internal energy follows from \(U = -\partial \ln Z / \partial \beta\) with \(\beta = 1/k_BT\). 
        Thus, once \(Z\) is known, the rest of thermodynamics unfolds like clockwork. 
        This reduction of complexity into a single function demonstrates the unifying power of statistical mechanics.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="partition-function.png" alt="Partition function relations"/>
      <figcaption class="figcap">The partition function encodes the statistical weight of all microstates, linking probability to thermodynamics.</figcaption>
    </figure>
    <h2 id="fluctuations" class="reveal">Fluctuations and Phase Transitions</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p9">★ Highlight</button>
      <p id="p9" class="dropcap">
        Real systems are never perfectly steady. Even in equilibrium, energy and particle number fluctuate.
        These fluctuations are usually small, vanishing in the thermodynamic limit of infinite particles,
        but they become crucial near <em>phase transitions</em>. At critical points, fluctuations grow without bound,
        giving rise to phenomena like critical opalescence, where fluids turn milky as light scatters off density fluctuations.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p10">★ Highlight</button>
      <p id="p10">
        Phase transitions — the boiling of water, the magnetization of iron, the onset of superconductivity —
        mark dramatic reorganizations of microstates. Statistical mechanics provides the tools to calculate when such
        transitions occur and how quantities like specific heat diverge. The discovery of universality, where diverse
        systems share identical critical exponents, is one of the most profound results of modern physics.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="phase-transition.png" alt="Phase transition diagram"/>
      <figcaption class="figcap">Fluctuations swell near critical points, giving rise to universal patterns across different systems.</figcaption>
    </figure>

    <h2 id="philosophy" class="reveal">Philosophical Reflections</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p11">★ Highlight</button>
      <p id="p11" class="dropcap">
        Statistical mechanics forces us to confront the meaning of probability in physics.
        Is probability merely ignorance of microstates, or is it fundamental to the way reality unfolds?
        The arrow of time, encoded in entropy growth, suggests that even if microdynamics are reversible,
        our experience of time is not. In this sense, statistical mechanics is not just a toolkit but a philosophy of nature.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p12">★ Highlight</button>
      <p id="p12">
        Boltzmann himself wrestled with these questions, carving \( S = k \ln \Omega \) into his tombstone as a final statement
        of faith in the statistical view of the universe. Today, debates continue: does entropy’s growth reflect human perspective,
        or is it an intrinsic cosmic principle? Statistical mechanics thus bridges not only scales but also disciplines,
        from physics to philosophy.
      </p>
    </div>

    <h2 id="quiz" class="reveal">Quick Quiz</h2>
    <div class="divider"></div>
    <section class="quiz reveal" id="quizSection">
      <div class="qitem">
        <h4>1) What does Boltzmann’s entropy formula express?</h4>
        <div class="qchoices" data-answer="a" data-explain="Entropy measures the logarithm of the number of microstates.">
          <button data-choice="a">Entropy is proportional to the log of accessible microstates</button>
          <button data-choice="b">Entropy is the total energy of the system</button>
          <button data-choice="c">Entropy is the inverse of temperature</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>2) In the canonical ensemble, the probability of a microstate depends on…</h4>
        <div class="qchoices" data-answer="b" data-explain="The Boltzmann factor \( e^{-E/k_BT} \) assigns higher probability to lower-energy states.">
          <button data-choice="a">Its position in phase space</button>
          <button data-choice="b">Its energy weighted by the Boltzmann factor</button>
          <button data-choice="c">Its entropy contribution alone</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>3) What happens to fluctuations at a critical point?</h4>
        <div class="qchoices" data-answer="c" data-explain="Near critical points, fluctuations grow large, dominating system behavior.">
          <button data-choice="a">They vanish completely</button>
          <button data-choice="b">They remain constant regardless of scale</button>
          <button data-choice="c">They diverge and dominate the system</button>
        </div>
        <div class="qfeedback"></div>
      </div>
    </section>

    <div class="nextrow reveal">
      <a href="quantum_gravity.html">← Back to Quantum Gravity</a>
      <a href="cosmology.html">Next page → Cosmology</a>
    </div>

  </article>

  <!-- Sidebar -->
  <aside class="reveal">
    <h3>Contents</h3>
    <div id="toc" class="toc"></div>
    <hr class="sep"/>
    <h3>Notebook</h3>
    <p style="color:var(--ink2); margin:.1rem 0 .6rem">Click ★ next to any paragraph to save it here.</p>
    <div id="nbList"></div>
  </aside>
</div>

<footer>© 2025 QParadox</footer>
<script>
/* progress bar */
const bar=document.getElementById('progress');
function onScroll(){
  const h=document.documentElement, st=h.scrollTop||document.body.scrollTop, sh=h.scrollHeight-h.clientHeight;
  bar.style.width=(Math.max(0,Math.min(1,st/sh))*100)+'%';
}
addEventListener('scroll', onScroll); onScroll();

/* reveal on scroll */
const obs=new IntersectionObserver(es=>{
  es.forEach(e=>{
    if(e.isIntersecting){
      e.target.classList.add('in');
      obs.unobserve(e.target);
    }
  });
},{threshold:.18});
document.querySelectorAll('.reveal').forEach(el=>{
  if(!el.classList.contains('in')) obs.observe(el);
});

/* TOC */
const toc=document.getElementById('toc');
const heads=[...document.querySelectorAll('#article h2')];
heads.forEach(h=>{
  const a=document.createElement('a');
  a.href='#'+h.id;
  a.textContent=h.textContent;
  toc.appendChild(a);
});
function spy(){
  const y=scrollY+140; let idx=-1;
  heads.forEach((s,i)=>{
    if(s.offsetTop<=y && s.offsetTop+s.offsetHeight>y) idx=i;
  });
  [...toc.querySelectorAll('a')].forEach((a,i)=>a.classList.toggle('active',i===idx));
}
addEventListener('scroll', spy); spy();

/* notebook highlights */
const KEY='qpx_notes_statistical_mechanics';
const listEl=document.getElementById('nbList');
function load(){ try{return JSON.parse(localStorage.getItem(KEY)||'[]');}catch(e){return []} }
function save(data){ localStorage.setItem(KEY, JSON.stringify(data)); }
function render(){
  const notes=load(); listEl.innerHTML='';
  if(notes.length===0){
    listEl.innerHTML='<p style="color:var(--muted)">No highlights yet.</p>'; return;
  }
  notes.forEach(n=>{
    const div=document.createElement('div');
    div.className='note'; div.dataset.id=n.id;
    div.innerHTML=`<time>${new Date(n.time).toLocaleString()}</time><p>${n.text}</p><button class="del">Remove</button>`;
    listEl.appendChild(div);
  });
}
render();
document.querySelectorAll('.hlbtn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const id=btn.dataset.target, p=document.getElementById(id);
    if(!p) return;
    p.classList.add('mark');
    const notes=load();
    notes.push({id:'n'+Date.now(), text:p.textContent.trim(), time:Date.now(), para:id});
    save(notes); render();
  });
});
listEl.addEventListener('click',e=>{
  if(!e.target.classList.contains('del')) return;
  const id=e.target.closest('.note').dataset.id;
  const notes=load().filter(x=>x.id!==id);
  save(notes); render();
});

/* quiz logic */
document.querySelectorAll('.qchoices').forEach(q=>{
  const answer=q.dataset.answer;
  const explain=q.dataset.explain;
  const feedback=q.nextElementSibling;
  q.querySelectorAll('button').forEach(btn=>{
    btn.addEventListener('click',()=>{
      q.querySelectorAll('button').forEach(b=>b.classList.remove('correct','wrong'));
      if(btn.dataset.choice===answer){
        btn.classList.add('correct');
        feedback.textContent="✔ Correct! " + explain;
      } else {
        btn.classList.add('wrong');
        feedback.textContent="✘ Incorrect. " + explain;
      }
    });
  });
});
</script>
</body>
</html>
