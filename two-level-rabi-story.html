<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QParadox • 2-Level Rabi Story</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

<!-- MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
:root{
  --bg:#0b0b0d; --panel:#131316; --ink:#efeae2; --ink2:#d8d1c8; --muted:#b9b3aa;
  --gold:#caa36b; --blue:#7aa0ff; --line:rgba(255,255,255,.14); --glass:rgba(255,255,255,.06);
  --shadow:0 18px 60px rgba(0,0,0,.72), inset 0 0 120px rgba(255,255,255,.03);
  --radius:18px; --side:330px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Crimson Text",serif; line-height:1.95; letter-spacing:.15px; overflow-x:hidden;
}
body::before{content:""; position:fixed; inset:0; z-index:-3; opacity:.06;
  background:url('https://www.transparenttextures.com/patterns/asfalt-dark.png')}
body::after{content:""; position:fixed; inset:0; z-index:-2; pointer-events:none;
  background:
    radial-gradient(900px 520px at 12% 0%, rgba(255,222,180,.09), transparent 60%),
    radial-gradient(900px 520px at 88% 12%, rgba(140,160,255,.06), transparent 60%),
    radial-gradient(1000px 620px at 50% 100%, rgba(202,163,107,.07), transparent 70%)}

.frame{position:fixed; inset:18px; border:1px solid var(--line); border-radius:22px; pointer-events:none; box-shadow:inset 0 0 140px rgba(0,0,0,.45)}
#progress{position:fixed; top:0; left:0; height:4px; width:0; z-index:100; background:linear-gradient(90deg,var(--gold),var(--blue)); box-shadow:0 0 10px rgba(202,163,107,.6)}

header{padding:6.2rem 1.2rem 2.4rem; text-align:center}
h1{font-family:"Playfair Display",serif; font-weight:900; margin:0;
  font-size:clamp(2.6rem,4vw,4.8rem); line-height:1.1; color:#f5ead8; text-shadow:0 0 22px rgba(255,255,255,.12)}
.subtitle{max-width:980px; margin:1rem auto 0; color:var(--ink2); font-size:clamp(1.05rem,1.2vw,1.2rem)}

.main{width:min(1200px,94%); margin:0 auto 4rem; display:grid; grid-template-columns:1fr; gap:26px}
@media(min-width:1120px){ .main{grid-template-columns:minmax(0, 1fr) var(--side)} }

article{
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:2.2rem 1.2rem
}
@media(min-width:780px){ article{padding:2.6rem 2.2rem} }
article h2{font-family:"Playfair Display",serif; margin:2rem 0 1rem; font-size:clamp(1.85rem,2.6vw,2.5rem); color:#f6eddc}
.divider{height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1.2rem 0}
p{margin:1.05rem 0; text-align:justify}
.dropcap:first-letter{float:left; font-family:"Playfair Display",serif; font-size:3.2rem; line-height:2.3rem; padding:.25rem .5rem .2rem 0; color:#f3e4c5}

.figure{margin:1.5rem auto; border:1px solid var(--line); border-radius:14px; overflow:hidden; background:#0e0f12; box-shadow:var(--shadow); max-width:820px}
.figure img{display:block; width:100%; height:auto}
.figcap{padding:.7rem .9rem; color:var(--ink2); font-size:.95rem; border-top:1px solid var(--line)}

.pwrap{position:relative; padding-right:2.5rem}
.hlbtn{position:absolute; right:.2rem; top:.35rem; padding:.25rem .6rem; border-radius:.6rem;
  background:var(--glass); color:var(--ink); border:1px solid var(--line);
  font-size:.85rem; cursor:pointer; opacity:0; transition:.2s}
.pwrap:hover .hlbtn{opacity:1}
.mark{background:linear-gradient(180deg, rgba(202,163,107,.3), rgba(122,160,255,.24)); border-radius:.2rem; padding:.05rem .12rem}

aside{position:sticky; top:90px; align-self:start; height:fit-content;
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); padding:1rem .9rem}
aside h3{margin:.2rem 0 .7rem; font-family:"Playfair Display",serif}
.toc a{display:block; text-decoration:none; color:var(--ink2); padding:.35rem .2rem; border-radius:.4rem; font-size:.95rem}
.toc a:hover{color:var(--ink)}
.toc a.active{color:#111; background:linear-gradient(90deg,var(--gold),#efd6a8)}
hr.sep{border:0; height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1rem 0}
.note{border:1px solid var(--line); border-radius:12px; padding:.7rem .75rem; margin:.5rem 0; background:rgba(255,255,255,.05)}
.note time{display:block; color:var(--muted); font-size:.85rem}
.note .del{margin-top:.4rem; padding:.25rem .55rem; border-radius:.5rem; border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer}

.quiz{margin-top:1.6rem; padding:1rem; border:1px solid var(--line); border-radius:14px; background:rgba(255,255,255,.04)}
.qitem{margin:1rem 0; padding:.8rem; border-radius:10px; border:1px solid rgba(255,255,255,.12)}
.qitem h4{margin:0 0 .5rem 0; font-family:"Playfair Display",serif}
.qchoices{display:grid; gap:.45rem}
.qchoices button{text-align:left; border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.05);
  color:var(--ink); padding:.55rem .7rem; border-radius:.6rem; cursor:pointer}
.qchoices button.correct{border-color:#46d17d}
.qchoices button.wrong{border-color:#e07070}
.qfeedback{color:var(--ink2); margin-top:.4rem; font-size:.98rem}

.nextrow{display:flex; gap:.6rem; flex-wrap:wrap; margin-top:1.3rem}
.nextrow a{text-decoration:none; color:var(--ink); border:1px solid rgba(255,255,255,.26); border-radius:.8rem;
  background:linear-gradient(90deg,rgba(202,163,107,.28),rgba(122,160,255,.22)); padding:.7rem 1rem}

.reveal{opacity:0; transform:translateY(24px); transition:opacity .9s, transform .9s}
.reveal.in{opacity:1; transform:none}
footer{padding:2rem 1rem; text-align:center; color:var(--muted); border-top:1px solid var(--line)}
</style>
</head>
<body>

<div class="frame"></div>
<div id="progress"></div>

<header class="reveal in">
  <h1>2-Level Rabi Story</h1>
  <p class="subtitle">Coherent oscillations in two-level quantum systems — Hamiltonians, rotating frames, Bloch spheres, detuning, and real qubits.</p>
</header>

<div class="main">
  <!-- ARTICLE -->
  <article id="article">

    <figure class="figure reveal">
      <img src="rabi-header.jpeg" alt="Two-level system driven by a field"/>
      <figcaption class="figcap">Drive a two-level system near resonance and the population sloshes back and forth at the Rabi frequency.</figcaption>
    </figure>

    <h2 id="intro" class="reveal">Introduction</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p1">★ Highlight</button>
      <p id="p1" class="dropcap">
        The simplest nontrivial quantum system has two states, \(|g\rangle\) and \(|e\rangle\).
        When a near-resonant field couples them, probability flows coherently between the states
        — a phenomenon called <em>Rabi oscillation</em>. This story powers NMR, atomic clocks, trapped-ion and superconducting qubits,
        and even simple spin control in solids.
      </p>
      <p>
        We will build intuition step by step: start from the driven Hamiltonian, move to a rotating frame,
        see the motion on the Bloch sphere, then add detuning, damping, and pulse design (\(\pi\) and \(\pi/2\) pulses, Ramsey).
      </p>
    </div>

    <h2 id="hamiltonian" class="reveal">Driven Two-Level Hamiltonian</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p2">★ Highlight</button>
      <p id="p2" class="dropcap">
        Let the bare splitting be \(\hbar\omega_0\) and drive with a classical field at frequency \(\omega_d\).
        In the \(\{|e\rangle,|g\rangle\}\) basis and under dipole coupling the Hamiltonian can be written
        \[
          H(t)=\frac{\hbar\omega_0}{2}\sigma_z + \hbar\Omega\cos(\omega_d t+\phi)\,\sigma_x ,
        \]
        where \(\Omega\) is the on-resonance coupling strength (Rabi rate) and \(\sigma_i\) are Pauli matrices.
      </p>
      <p>
        Transform to the frame rotating at \(\omega_d\) and apply the rotating-wave approximation (RWA) to drop fast terms.
        The effective Hamiltonian becomes
        \[
          H_{\rm RWA}=\frac{\hbar}{2}\big(\Delta\,\sigma_z + \Omega\,\sigma_x\big),\qquad \Delta=\omega_0-\omega_d .
        \]
        Now the problem is time-independent and transparent.
      </p>
    </div>

    <h2 id="rabi" class="reveal">Rabi Frequency and Population Dynamics</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p3">★ Highlight</button>
      <p id="p3" class="dropcap">
        With \(H_{\rm RWA}\), the state precesses around a static “effective field”
        \(\boldsymbol{\Omega}_{\rm eff}=(\Omega,0,\Delta)\) with magnitude
        \[
          \Omega_R=\sqrt{\Omega^2+\Delta^2}\,,
        \]
        the <em>generalized Rabi frequency</em>.
        Starting in \(|g\rangle\), the excited-state probability is
        \[
          P_e(t)=\frac{\Omega^2}{\Omega_R^2}\sin^2\!\Big(\frac{\Omega_R t}{2}\Big).
        \]
        On resonance (\(\Delta=0\)), this reduces to \(P_e(t)=\sin^2(\Omega t/2)\).
      </p>
    </div>

    <figure class="figure reveal">
      <img src="bloch-rabi.jpeg" alt="Bloch sphere precession under resonant and detuned drive"/>
      <figcaption class="figcap">Bloch picture: the Bloch vector precesses about the effective field. Detuning tilts the axis toward \(z\) and reduces oscillation amplitude.</figcaption>
    </figure>

    <h2 id="bloch" class="reveal">Bloch Sphere & Pulses</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p4">★ Highlight</button>
      <p id="p4" class="dropcap">
        The Bloch vector \(\mathbf{r}\) rotates by angle \(\theta=\Omega t\) around the drive axis (on resonance).
        A pulse of duration \(t_\pi=\pi/\Omega\) flips \(|g\rangle\to|e\rangle\) (a <em>\(\pi\)-pulse</em>);
        \(t_{\pi/2}=\pi/(2\Omega)\) makes an equal superposition (a <em>\(\pi/2\)-pulse</em>).
        Two \(\pi/2\) pulses separated by free evolution produce Ramsey fringes that measure detuning and dephasing precisely.
      </p>
    </div>

    <h2 id="detuning" class="reveal">Detuning, Line Shape, and Power Broadening</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p5">★ Highlight</button>
      <p id="p5" class="dropcap">
        Off resonance, oscillations slow to \(\Omega_R\) and their amplitude shrinks by \(\Omega^2/\Omega_R^2\).
        In steady-state drive with relaxation, the excited-state probability vs. detuning is a Lorentzian whose width grows with drive strength
        (power broadening) — a key trade-off in spectroscopy and qubit control.
      </p>
    </div>

    <h2 id="damping" class="reveal">Relaxation & Dephasing (Bloch Equations)</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p6">★ Highlight</button>
      <p id="p6" class="dropcap">
        Real systems are not perfectly isolated. Longitudinal relaxation (energy loss) is set by \(T_1\); transverse dephasing by \(T_2\le 2T_1\).
        The Bloch equations add damping terms:
        \[
          \dot{\mathbf{r}}=\mathbf{r}\times\boldsymbol{\Omega}_{\rm eff}
          -\bigg(\frac{r_x}{T_2},\frac{r_y}{T_2},\frac{r_z-r_z^{\rm eq}}{T_1}\bigg).
        \]
        Damping reduces visibility and sets how long coherent rotations remain accurate.
      </p>
    </div>

    <h2 id="experiments" class="reveal">Implementations & Experiments</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p7">★ Highlight</button>
      <p id="p7" class="dropcap">
        <strong>NMR/ESR spins:</strong> RF or microwave fields drive Zeeman-split spins; readout via induction or fluorescence.
        <strong>Trapped ions & neutral atoms:</strong> Lasers drive internal transitions; state readout uses electron-shelving photons.
        <strong>Superconducting qubits:</strong> Microwave pulses shape fast \(\pi\) and \(\pi/2\) rotations; dispersive readout measures state.
      </p>
      <p>
        Calibrating a \(\pi\)-pulse is as simple as sweeping pulse length and picking the first maximum of \(P_e\).
        Ramsey sequences reveal detuning and dephasing; spin-echo cancels slow noise by inserting a \(\pi\)-pulse between two \(\pi/2\) pulses.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="rabi-ramsey.jpeg" alt="Rabi and Ramsey timing diagrams"/>
      <figcaption class="figcap">Left: Rabi flops vs pulse length. Right: Ramsey fringes vs wait time — the slope measures detuning; the envelope measures \(T_2^\*\).</figcaption>
    </figure>

    <h2 id="tips" class="reveal">Practical Tips</h2>
    <div class="divider"></div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p8">★ Highlight</button>
      <p id="p8" class="dropcap">
        Drive amplitude sets \(\Omega\); frequency error sets \(\Delta\). Calibrate both.
        Gaussian or DRAG-shaped pulses reduce leakage and AC-Stark shifts in fast control.
        Average many shots to beat quantum projection noise; shield and filter to tame dephasing.
      </p>
    </div>

    <h2 id="quiz" class="reveal">Quick Quiz – 2-Level Rabi Story</h2>
    <div class="divider"></div>

    <section class="quiz reveal" id="quizSection">
      <div class="qitem">
        <h4>1) In the rotating frame with RWA, the effective Hamiltonian is</h4>
        <div class="qchoices" data-answer="b" data-explain="Detuning \(\Delta=\omega_0-\omega_d\), drive \(\Omega\): \(H=\tfrac{\hbar}{2}(\Delta\sigma_z+\Omega\sigma_x)\).">
          <button data-choice="a">\(\hbar\omega_0\,\sigma_z\)</button>
          <button data-choice="b">\(\tfrac{\hbar}{2}(\Delta\sigma_z+\Omega\sigma_x)\)</button>
          <button data-choice="c">\(\tfrac{\hbar}{2}\Omega\sigma_y\)</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>2) The generalized Rabi frequency is</h4>
        <div class="qchoices" data-answer="a" data-explain="\(\Omega_R=\sqrt{\Omega^2+\Delta^2}\).">
          <button data-choice="a">\(\sqrt{\Omega^2+\Delta^2}\)</button>
          <button data-choice="b">\(|\Omega-\Delta|\)</button>
          <button data-choice="c">\(\Omega\Delta\)</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>3) Starting in \(|g\rangle\) on resonance, the excited-state probability is</h4>
        <div class="qchoices" data-answer="c" data-explain="On resonance \(P_e(t)=\sin^2(\Omega t/2)\).">
          <button data-choice="a">\(\cos^2(\Omega t)\)</button>
          <button data-choice="b">\(\tfrac{1}{2}\big(1-\cos\Omega t\big)\)</button>
          <button data-choice="c">\(\sin^2(\Omega t/2)\)</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>4) A \(\pi\)-pulse does what on the Bloch sphere?</h4>
        <div class="qchoices" data-answer="b" data-explain="It rotates by \(\pi\) about the drive axis, inverting population.">
          <button data-choice="a">Creates an equal superposition</button>
          <button data-choice="b">Inverts the state \(|g\rangle\leftrightarrow|e\rangle\)</button>
          <button data-choice="c">Cancels detuning</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>5) Which parameter primarily sets dephasing in Bloch equations?</h4>
        <div class="qchoices" data-answer="a" data-explain="Transverse dephasing time \(T_2\) controls decay of coherences.">
          <button data-choice="a">\(T_2\)</button>
          <button data-choice="b">\(T_1\)</button>
          <button data-choice="c">\(\Omega_R\)</button>
        </div>
        <div class="qfeedback"></div>
      </div>
    </section>

    <div class="nextrow reveal">
      <a href="weak-measurements.html">← Back to Weak Measurements</a>
      <a href="interference-visibility.html">Next page → Interference Visibility</a>
    </div>

  </article>

  <!-- SIDEBAR -->
  <aside class="reveal">
    <h3>Contents</h3>
    <div id="toc" class="toc"></div>
    <hr class="sep"/>
    <h3>Notebook</h3>
    <p style="color:var(--ink2); margin:.1rem 0 .6rem">Click ★ to save paragraphs here. You can also write your own notes below.</p>
    <div id="nbList"></div>
    <textarea id="freeNote" placeholder="Write your own note..." style="margin-top:.6rem; height:100px; background:rgba(255,255,255,.05); border:1px solid var(--line); color:var(--ink); border-radius:.5rem; padding:.55rem .6rem; font-family:'Crimson Text',serif;"></textarea>
    <div style="display:flex; gap:.5rem; margin-top:.4rem">
      <button id="saveFree" style="padding:.45rem .7rem; border-radius:.6rem; border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer">Save</button>
      <button id="clearAll" style="padding:.45rem .7rem; border-radius:.6rem; border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer">Clear all</button>
    </div>
    <p style="color:var(--muted); font-size:.9rem; margin-top:.4rem">Notes are stored locally in your browser.</p>
  </aside>
</div>

<footer>© 2025 QParadox</footer>

<script>
/* progress bar */
const bar=document.getElementById('progress');
function onScroll(){const h=document.documentElement,st=h.scrollTop||document.body.scrollTop,sh=h.scrollHeight-h.clientHeight;
  bar.style.width=(Math.max(0,Math.min(1,st/sh))*100)+'%';}
addEventListener('scroll',onScroll);onScroll();

/* reveal on scroll */
const obs=new IntersectionObserver(es=>{es.forEach(e=>{if(e.isIntersecting){e.target.classList.add('in');obs.unobserve(e.target);}})},{threshold:.18});
document.querySelectorAll('.reveal').forEach(el=>{if(!el.classList.contains('in'))obs.observe(el);});

/* TOC */
const toc=document.getElementById('toc');const heads=[...document.querySelectorAll('#article h2')];
heads.forEach(h=>{const a=document.createElement('a');a.href='#'+h.id;a.textContent=h.textContent;toc.appendChild(a);});
function spy(){const y=scrollY+140;let idx=-1;heads.forEach((s,i)=>{if(s.offsetTop<=y&&s.offsetTop+s.offsetHeight>y)idx=i;});
[...toc.querySelectorAll('a')].forEach((a,i)=>a.classList.toggle('active',i===idx));}
addEventListener('scroll',spy);spy();

/* notebook */
const KEY='qpx_notes_lagrangian_v1';const listEl=document.getElementById('nbList');
function load(){try{return JSON.parse(localStorage.getItem(KEY)||'[]');}catch(e){return [];} }
function save(data){localStorage.setItem(KEY,JSON.stringify(data));}
function render(){const notes=load();listEl.innerHTML='';
  if(notes.length===0){listEl.innerHTML='<p style="color:var(--muted)">No notes yet.</p>';return;}
  notes.forEach(n=>{const div=document.createElement('div');div.className='note';div.dataset.id=n.id;
    div.innerHTML=`<time>${new Date(n.time).toLocaleString()}</time><p>${n.text}</p><button class="del">Remove</button>`;
    listEl.appendChild(div);});}
render();
document.querySelectorAll('.hlbtn').forEach(btn=>{btn.addEventListener('click',()=>{const id=btn.dataset.target,p=document.getElementById(id);
  if(!p)return;p.classList.add('mark');const notes=load();notes.push({id:'n'+Date.now(),text:p.textContent.trim(),time:Date.now(),para:id});
  save(notes);render();});});
document.getElementById('saveFree').addEventListener('click',()=>{const box=document.getElementById('freeNote');const t=box.value.trim();if(!t)return;
  const notes=load();notes.push({id:'n'+Date.now(),text:t,time:Date.now(),para:null});save(notes);render();box.value='';});
listEl.addEventListener('click',e=>{if(!e.target.classList.contains('del'))return;const item=e.target.closest('.note');const id=item.dataset.id;
  const notes=load().filter(x=>x.id!==id);save(notes);render();});
document.getElementById('clearAll').addEventListener('click',()=>{if(!confirm('Clear all notes?'))return;localStorage.removeItem(KEY);render();
  document.querySelectorAll('.mark').forEach(m=>m.classList.remove('mark'));});

/* QUIZ (per-question immediate feedback) */
document.querySelectorAll('.qchoices').forEach(group=>{
  group.addEventListener('click',e=>{
    if(e.target.tagName!=='BUTTON') return;
    const answer = group.dataset.answer;
    const fb = group.parentElement.querySelector('.qfeedback');

    group.querySelectorAll('button').forEach(b=>{ b.disabled = true; b.classList.remove('correct','wrong'); });

    if(e.target.dataset.choice === answer){
      e.target.classList.add('correct');
      fb.textContent = 'Correct — ' + group.dataset.explain;
      fb.style.color = '#8fe0a8';
    }else{
      e.target.classList.add('wrong');
      const right = [...group.querySelectorAll('button')].find(b=>b.dataset.choice===answer);
      if(right) right.classList.add('correct');
      fb.textContent = 'Wrong — ' + group.dataset.explain;
      fb.style.color = '#f29b9b';
    }
  });
});
</script>
</body>
</html>
