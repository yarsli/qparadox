<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QParadox • Concepts Atlas</title>

<!-- Type -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

<!-- MathJax for real math symbols in blurbs/equations -->
<script async id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

<style>
:root{
  --bg:#0b0b0d; --panel:#121215; --ink:#efeae2; --ink2:#d8d1c8; --muted:#b9b3aa;
  --gold:#caa36b; --gold2:#e9d6b2; --blue:#7aa0ff;
  --line:rgba(255,255,255,.14); --glass:rgba(255,255,255,.06);
  --shadow:0 18px 60px rgba(0,0,0,.72), inset 0 0 120px rgba(255,255,255,.03);
  --radius:18px; --max:1420px; --aside:360px; --nav:64px;
}
/* base */
*{box-sizing:border-box} html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Crimson Text",serif; line-height:1.95; letter-spacing:.15px; overflow-x:hidden;
}
body::before{content:""; position:fixed; inset:0; z-index:-3; opacity:.06;
  background:url('https://www.transparenttextures.com/patterns/asfalt-dark.png')}
body::after{content:""; position:fixed; inset:0; z-index:-2;
  background:
    radial-gradient(1300px 820px at 12% -8%, rgba(255,222,180,.10), transparent 60%),
    radial-gradient(1200px 720px at 88% -6%, rgba(140,160,255,.08), transparent 60%),
    radial-gradient(1600px 1000px at 50% 112%, rgba(202,163,107,.10), transparent 72%)}
.frame{position:fixed; inset:18px; border:1px solid var(--line); border-radius:22px; pointer-events:none; box-shadow:inset 0 0 140px rgba(0,0,0,.45)}
#progress{position:fixed; top:0; left:0; height:4px; width:0; z-index:100; background:linear-gradient(90deg,var(--gold),var(--blue))}

/* top bar */
.top{position:sticky; top:0; height:var(--nav); z-index:60; display:flex; align-items:center; gap:.8rem;
  padding:0 12px; background:linear-gradient(180deg, rgba(11,11,13,.96), rgba(11,11,13,.78));
  border-bottom:1px solid var(--line); backdrop-filter:blur(6px)}
.brand{display:flex; align-items:center; gap:.6rem}
.logo{display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px;
  border:1px solid var(--line); background:var(--glass)}
.logo svg{color:var(--ink)}
.brand b{font-family:"Playfair Display",serif; font-size:1.28rem; color:#f5ead8}
.navlinks{margin-left:auto}
.navlinks a{color:var(--ink2); text-decoration:none; margin:0 .55rem; border-bottom:1px dotted rgba(255,255,255,.25)}
.navlinks a:hover{color:#fff}

/* hero */
.hero{padding:1.7rem 1rem .6rem; text-align:center}
h1{font-family:"Playfair Display",serif; font-weight:900; margin:0; font-size:clamp(2.7rem,4.2vw,5rem); line-height:1.06; color:#f6eddc}
.sub{max-width:980px; margin:.7rem auto 0; color:var(--ink2)}
.divider{height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1.1rem auto; width:min(980px,92%)}

/* controls */
.controls{position:sticky; top:calc(var(--nav) - 1px); z-index:55; padding:.8rem .8rem;
  border:1px solid var(--line); border-radius:14px; margin:0 auto 1rem; width:min(var(--max),94%);
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03)); backdrop-filter:blur(6px)}
.controls .row{display:flex; align-items:center; gap:.6rem; flex-wrap:wrap}
#search{flex:1; min-width:260px; background:rgba(255,255,255,.05); border:1px solid var(--line); color:var(--ink);
  border-radius:.7rem; padding:.65rem .8rem}
.pill{padding:.32rem .64rem; border-radius:999px; border:1px solid var(--line); background:rgba(255,255,255,.05);
  color:var(--ink2); cursor:pointer; user-select:none; font-size:.92rem}
.pill:hover{border-color:rgba(255,255,255,.3); color:#fff}
.pill.active{color:#111; background:linear-gradient(90deg,var(--gold),#efd6a8)}
.count{color:var(--muted); font-size:.92rem}
.select{background:rgba(255,255,255,.05); border:1px solid var(--line); color:var(--ink); border-radius:.6rem; padding:.48rem .6rem}
#activeFilters{display:flex; flex-wrap:wrap; gap:.4rem; margin-top:.5rem}
.chip{display:inline-flex; align-items:center; gap:.35rem; padding:.25rem .55rem; border-radius:999px; border:1px solid var(--line);
  background:rgba(255,255,255,.06); color:var(--ink2); font-size:.9rem}
.chip button{border:none; background:transparent; color:var(--muted); cursor:pointer; font-size:1rem; line-height:1}
#clearFilters{margin-left:auto}

/* layout */
.container{width:min(var(--max),94%); margin:0 auto 2rem; display:grid; gap:18px; grid-template-columns:1fr}
@media(min-width:1320px){ .container{grid-template-columns:minmax(0,1fr) var(--aside)} }

/* sections */
.section{margin:1.2rem 0 1.6rem}
.section h2{font-family:"Playfair Display",serif; color:#f7edde; margin:0 0 .35rem; font-size:1.6rem}
.section .subt{color:var(--ink2); margin:0 0 .7rem}

/* grid of cards */
.grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(290px,1fr)); gap:14px}
.card{
  position:relative; border:1px solid var(--line); border-radius:16px;
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  box-shadow:var(--shadow); padding:12px 12px 14px;
  transition:transform .18s ease, border-color .18s ease, box-shadow .18s ease
}
.card:hover{transform:translateY(-2px); border-color:rgba(255,255,255,.28); box-shadow:0 18px 60px rgba(0,0,0,.62), inset 0 0 120px rgba(255,255,255,.03)}
.card h4{margin:.2rem 0 .35rem; font-size:1.18rem; color:#f7edde; font-family:"Playfair Display",serif}
.meta{display:flex; gap:.45rem; flex-wrap:wrap; margin:.05rem 0 .45rem}
.tag{font-size:.78rem; color:#111; background:linear-gradient(90deg,var(--gold),#efd6a8); padding:.15rem .5rem; border-radius:.5rem; cursor:pointer}
.tag.t2{background:linear-gradient(90deg,rgba(122,160,255,.85),rgba(202,163,107,.85))}
.tag.t3{background:linear-gradient(90deg,#c7b39a,#f1e6cf)}
.diff{font-size:.78rem; color:#d3ccbf; border:1px dashed rgba(255,255,255,.22); border-radius:.4rem; padding:.05rem .4rem}
.card p{margin:.35rem 0 .3rem; color:var(--ink2); text-align:justify}
.card .eq{margin:.35rem 0 .25rem; color:#e9e1d6}
.links{display:flex; flex-wrap:wrap; gap:.5rem; margin-top:.55rem}
.links a{color:#d9d1c6; text-decoration:none; border-bottom:1px dotted rgba(255,255,255,.25)}
.links a:hover{color:#fff}
.star{position:absolute; right:.55rem; top:.5rem; border:1px solid var(--line); border-radius:.6rem; background:var(--glass); color:var(--ink); font-size:.9rem; padding:.2rem .5rem; cursor:pointer}
.star.active{background:linear-gradient(90deg,var(--gold),#efd6a8); color:#111}

/* right notebook (no blue! warm gold accents) */
aside{
  position:sticky; top:calc(var(--nav) + 18px); align-self:start; height:fit-content;
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); padding:12px
}
aside h3{margin:.2rem 0 .6rem; font-family:"Playfair Display",serif}
.note{border:1px solid var(--line); border-radius:12px; padding:.6rem .7rem; margin:.55rem 0; background:rgba(255,255,255,.05)}
.note time{display:block; color:var(--muted); font-size:.85rem}
.note .del{margin-top:.4rem; padding:.25rem .55rem; border-radius:.5rem; border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer}
#free{width:100%; height:120px; background:rgba(255,255,255,.05); border:1px solid var(--line); color:var(--ink); border-radius:.6rem; padding:.6rem .7rem}
.quick a{color:#e8dcc7; text-decoration:none; border-bottom:1px dotted rgba(255,255,255,.28)}
.quick a:hover{color:#fff}
.quick .note{background:linear-gradient(180deg,rgba(202,163,107,.10),rgba(255,255,255,.05)); border-color:rgba(202,163,107,.35)}

/* reveal + top button */
.reveal{opacity:0; transform:translateY(24px); transition:opacity .9s, transform .9s}
.reveal.in{opacity:1; transform:none}
#toTop{position:fixed; right:18px; bottom:18px; z-index:50; display:none; border:1px solid var(--line); background:var(--glass); color:var(--ink); border-radius:10px; padding:.55rem .8rem; cursor:pointer}
#toTop.show{display:block}

/* footer */
footer{padding:2rem 1rem; text-align:center; color:var(--muted); border-top:1px solid var(--line)}
</style>
</head>
<body>
<div class="frame" aria-hidden="true"></div>
<div id="progress"></div>

<!-- Top bar -->
<div class="top">
  <div class="logo" title="Menu">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
  </div>
  <div class="brand"><b>QParadox</b></div>
  <div class="navlinks">
    <a href="index.html">Home</a>
    <a href="introduction.html">Introduction</a>
    <a href="theoretical.html">Theoretical</a>
    <a href="experimental.html">Experimental</a>
    <a href="computational.html">Computational</a>
  </div>
</div>

<!-- Hero -->
<header class="hero reveal in">
  <h1>Concepts Atlas</h1>
  <p class="sub">A single, organized library of physics and philosophy: mechanics, fields, quanta, spacetime, matter, cosmos, methods, and metaphysics. Search, filter, and dive by topic, method, and level.</p>
  <div class="divider" aria-hidden="true"></div>
</header>

<!-- Controls -->
<div class="controls reveal" id="controls">
  <div class="row">
    <input id="search" type="text" placeholder="Search all concepts… e.g. Noether, tunneling, Maxwell, partition function"/>
    <!-- Domain filter -->
    <span class="pill active" data-domain="all">All Domains</span>
    <span class="pill" data-domain="classical">Classical</span>
    <span class="pill" data-domain="em">EM</span>
    <span class="pill" data-domain="quantum">Quantum</span>
    <span class="pill" data-domain="relativity">Relativity</span>
    <span class="pill" data-domain="thermo">Thermo</span>
    <span class="pill" data-domain="optics">Optics</span>
    <span class="pill" data-domain="condensed">Condensed</span>
    <span class="pill" data-domain="particle">Particle</span>
    <span class="pill" data-domain="cosmo">Cosmo</span>
    <span class="pill" data-domain="methods">Methods</span>
    <span class="pill" data-domain="meta">Metaphysics</span>
  </div>
  <div class="row" style="margin-top:.4rem">
    <!-- Method filter -->
    <span class="pill active" data-method="any">Any Method</span>
    <span class="pill" data-method="theory">Theory</span>
    <span class="pill" data-method="experiment">Experiment</span>
    <span class="pill" data-method="compute">Computation</span>

    <!-- Difficulty filter -->
    <span class="pill active" data-diff="any">Any Level</span>
    <span class="pill" data-diff="intro">Intro</span>
    <span class="pill" data-diff="intermediate">Intermediate</span>
    <span class="pill" data-diff="advanced">Advanced</span>

    <!-- Sort -->
    <select id="sortSel" class="select" title="Sort">
      <option value="az">Sort: A → Z</option>
      <option value="za">Sort: Z → A</option>
      <option value="domain">Sort: by Domain</option>
      <option value="recent">Sort: Recently Added</option>
      <option value="fav">Sort: Favorites First</option>
    </select>

    <!-- View favorites only -->
    <span id="favToggle" class="pill" title="Show only favorites">★ Favorites</span>

    <span class="count" id="countLine" style="margin-left:auto">Showing all</span>
  </div>

  <!-- Active filters line -->
  <div id="activeFilters"></div>
  <div class="row" style="justify-content:flex-end; margin-top:.3rem">
    <span id="clearFilters" class="pill">Clear filters</span>
  </div>
</div>

<div class="container">
  <!-- Main content -->
  <main id="catalog">

    <!-- Sections auto-filled from DATA -->
    <section class="section reveal" id="sec-classical">
      <h2>Classical Mechanics</h2>
      <p class="subt">From Newton’s synthesis to variational principles, oscillations, and orbits.</p>
      <div class="grid" id="grid-classical"></div>
    </section>

    <section class="section reveal" id="sec-em">
      <h2>Electromagnetism</h2>
      <p class="subt">Fields, waves, circuits, and the geometry behind E and B.</p>
      <div class="grid" id="grid-em"></div>
    </section>

    <section class="section reveal" id="sec-quantum">
      <h2>Quantum Mechanics</h2>
      <p class="subt">States, operators, interference, measurement, and information.</p>
      <div class="grid" id="grid-quantum"></div>
    </section>

    <section class="section reveal" id="sec-relativity">
      <h2>Relativity</h2>
      <p class="subt">Spacetime structure from SR to GR, lenses and waves.</p>
      <div class="grid" id="grid-relativity"></div>
    </section>

    <section class="section reveal" id="sec-thermo">
      <h2>Thermodynamics & Statistical Mechanics</h2>
      <p class="subt">Macroscopic laws from microscopic counting, fluctuations, and response.</p>
      <div class="grid" id="grid-thermo"></div>
    </section>

    <section class="section reveal" id="sec-optics">
      <h2>Optics & Waves</h2>
      <p class="subt">Interference, diffraction, coherence, resonators, and photonics.</p>
      <div class="grid" id="grid-optics"></div>
    </section>

    <section class="section reveal" id="sec-condensed">
      <h2>Condensed Matter</h2>
      <p class="subt">Crystals, bands, superconductivity, topology, and transport.</p>
      <div class="grid" id="grid-condensed"></div>
    </section>

    <section class="section reveal" id="sec-particle">
      <h2>Particle & Field Theory</h2>
      <p class="subt">Symmetries, interactions, scattering, and effective theories.</p>
      <div class="grid" id="grid-particle"></div>
    </section>

    <section class="section reveal" id="sec-cosmo">
      <h2>Cosmology & Astrophysics</h2>
      <p class="subt">From the early universe to large-scale structure and compact objects.</p>
      <div class="grid" id="grid-cosmo"></div>
    </section>

    <section class="section reveal" id="sec-methods">
      <h2>Cross-Cutting Methods</h2>
      <p class="subt">Math, computation, and inference tools shared by every domain.</p>
      <div class="grid" id="grid-methods"></div>
    </section>

    <section class="section reveal" id="sec-meta">
      <h2>Metaphysics & Philosophy of Physics</h2>
      <p class="subt">Interpretation, causation, emergence, and what counts as explanation.</p>
      <div class="grid" id="grid-meta"></div>
    </section>

  </main>

  <!-- Notebook (warmer tones, not blue) -->
  <aside class="reveal">
    <h3>Notebook</h3>
    <p class="count">Pin ★ on any card, or jot your own thoughts below.</p>
    <div id="nbList"></div>
    <textarea id="free" placeholder="Write a note…"></textarea>
    <div style="display:flex; gap:.6rem; margin-top:.5rem">
      <button id="saveFree" class="pill">Save</button>
      <button id="clearAll" class="pill">Clear all</button>
    </div>
    <div class="divider" style="margin:1rem 0 .7rem"></div>
    <h3>Quick Jumps</h3>
    <div class="quick">
      <div class="note"><a href="#sec-classical">Classical Mechanics</a></div>
      <div class="note"><a href="#sec-quantum">Quantum Mechanics</a></div>
      <div class="note"><a href="#sec-relativity">Relativity</a></div>
      <div class="note"><a href="#sec-thermo">Thermo & Stat</a></div>
      <div class="note"><a href="#sec-optics">Optics & Waves</a></div>
      <div class="note"><a href="#sec-condensed">Condensed Matter</a></div>
      <div class="note"><a href="#sec-particle">Particle & Field</a></div>
      <div class="note"><a href="#sec-cosmo">Cosmology & Astro</a></div>
      <div class="note"><a href="#sec-methods">Methods</a></div>
      <div class="note"><a href="#sec-meta">Metaphysics</a></div>
    </div>
  </aside>
</div>

<footer>© 2025 QParadox • Concepts Atlas</footer>
<button id="toTop" title="Back to top">↑ Top</button>

<!-- ================= DATA ================= -->
<script type="application/json" id="conceptsData">
[
  /* Classical */
  {"id":"c-newton","title":"Newton's Laws","domain":"classical","method":"theory","diff":"intro","href":"newton-laws.html","eq":"\\(\\vec F_{\\text{net}}=\\dfrac{d\\vec p}{dt}\\)","tags":["forces","kinematics"],"blurb":"Relate net external force to momentum change; always declare a system boundary and identify interactions that cross it."},
  {"id":"c-work","title":"Work, Energy, Power","domain":"classical","method":"theory","diff":"intro","href":"work-energy.html","eq":"\\(\\Delta K=W_{\\text{net}}\\)","tags":["energy","mechanics"],"blurb":"Convert forces along a path into energy change; separate mechanical work from heat to keep the bookkeeping honest."},
  {"id":"c-impulse","title":"Impulse–Momentum","domain":"classical","method":"theory","diff":"intro","href":"impulse-momentum.html","eq":"\\(\\Delta\\vec p=\\int \\!\\vec F\\,dt\\)","tags":["collisions"],"blurb":"Short interactions summarized by area under the force–time curve; essential for collisions and ballistics."},
  {"id":"c-ang","title":"Angular Momentum & Torque","domain":"classical","method":"theory","diff":"intro","href":"angular-momentum.html","eq":"\\(\\vec\\tau=\\dfrac{d\\vec L}{dt}\\)","tags":["rotation"],"blurb":"Choose an origin; rotational symmetry explains when \\(\\vec L\\) is conserved."},
  {"id":"c-com","title":"Center of Mass & Collisions","domain":"classical","method":"theory","diff":"intro","href":"center-of-mass.html","eq":"\\(\\vec R=(\\sum m_i\\vec r_i)/M\\)","tags":["systems"],"blurb":"Reduce many-body motion via COM; elastic vs inelastic energy accounting."},
  {"id":"c-lag","title":"Lagrangian Mechanics","domain":"classical","method":"theory","diff":"intermediate","href":"lagrangian-mechanics.html","eq":"\\(L=T-V\\)","tags":["action","coordinates"],"blurb":"Generalized coordinates handle constraints; Euler–Lagrange equations flow from stationary action."},
  {"id":"c-ham","title":"Hamiltonian Mechanics","domain":"classical","method":"theory","diff":"advanced","href":"hamiltonian-mechanics.html","eq":"\\(\\dot q=\\partial H/\\partial p\\)","tags":["phase space"],"blurb":"A clean phase-space formulation with canonical structure; a conceptual bridge toward quantum mechanics."},
  {"id":"c-normal","title":"Small Oscillations & Modes","domain":"classical","method":"theory","diff":"intermediate","href":"normal-modes.html","eq":"\\(\\omega^2\\vec a=K\\vec a\\)","tags":["vibrations","eigen"],"blurb":"Diagonalize coupled motion; normal modes evolve independently in linear systems."},
  {"id":"c-res","title":"Damping & Resonance","domain":"classical","method":"theory","diff":"intro","href":"damping-resonance.html","eq":"Q-factor","tags":["response"],"blurb":"Quality factor, bandwidth, and steady-state response to periodic drive."},
  {"id":"c-orbit","title":"Central Forces & Orbits","domain":"classical","method":"theory","diff":"intermediate","href":"central-forces.html","eq":"effective potential","tags":["gravity","kepler"],"blurb":"Kepler laws emerge from \\(1/r\\); effective potential predicts orbit type and stability."},
  {"id":"c-dim","title":"Dimensional Analysis & Scaling","domain":"classical","method":"theory","diff":"intro","href":"dimensional-analysis.html","eq":"\\(\\Pi\\)-groups","tags":["estimates"],"blurb":"Predict variable dependences and regimes before heavy algebra."},
  {"id":"c-chaos","title":"Nonlinear Dynamics & Chaos","domain":"classical","method":"theory","diff":"advanced","href":"chaos.html","eq":"Lyapunov","tags":["sensitivity"],"blurb":"Sensitive dependence, attractors, Poincaré maps, and control ideas."},

  /* EM */
  {"id":"e-maxwell","title":"Maxwell’s Equations","domain":"em","method":"theory","diff":"intro","href":"maxwells-equations.html","eq":"\\(\\nabla\\cdot\\vec E=\\rho/\\varepsilon_0,\\;\\nabla\\times\\vec B=\\mu_0\\vec J+\\mu_0\\varepsilon_0\\partial_t\\vec E\\)","tags":["fields","waves"],"blurb":"Unify E, B, and light; boundary conditions and wave speed in media."},
  {"id":"e-pot","title":"Scalar & Vector Potentials","domain":"em","method":"theory","diff":"intermediate","href":"em-potentials.html","eq":"\\(\\vec B=\\nabla\\times\\vec A\\)","tags":["gauge"],"blurb":"Gauge choices (Coulomb/Lorenz), physical content, and Aharonov–Bohm context."},
  {"id":"e-waves","title":"EM Waves & Polarization","domain":"em","method":"theory","diff":"intro","href":"em-waves.html","eq":"wave equation","tags":["polarization"],"blurb":"Plane waves, Poynting vector, Fresnel reflection, and birefringence."},
  {"id":"e-circ","title":"Circuits & Impedance","domain":"em","method":"theory","diff":"intro","href":"circuits-impedance.html","eq":"\\(Z_R=R,\\; Z_C=1/(i\\omega C)\\)","tags":["filters"],"blurb":"Phasors, filters, resonance, and Bode intuition for frequency response."},
  {"id":"e-rad","title":"Radiation & Antennas","domain":"em","method":"theory","diff":"intermediate","href":"radiation-antennas.html","eq":"Larmor","tags":["dipoles"],"blurb":"Dipole fields, angular patterns, near/far zones, and efficiency."},
  {"id":"e-skin","title":"Skin Depth & Waveguides","domain":"em","method":"theory","diff":"advanced","href":"skin-waveguides.html","eq":"\\(\\delta=\\sqrt{2/\\mu\\sigma\\omega}\\)","tags":["TE","TM"],"blurb":"Conductors at high frequency; TE/TM modes and cutoff conditions."},

  /* Quantum */
  {"id":"q-tdse","title":"Time-Dependent Schrödinger","domain":"quantum","method":"theory","diff":"intro","href":"schrodinger-equation.html","eq":"\\(i\\hbar\\partial_t\\Psi=\\hat H\\Psi\\)","tags":["unitary"],"blurb":"Evolution, unitarity, stationary states, and probability conservation."},
  {"id":"q-1d","title":"1D Potentials & Bound States","domain":"quantum","method":"theory","diff":"intro","href":"1d-potentials.html","eq":"wells/barriers","tags":["quantization"],"blurb":"Quantization from boundaries; tunneling estimates and wave matching."},
  {"id":"q-ops","title":"Operators & Eigenstates","domain":"quantum","method":"theory","diff":"intro","href":"operators-eigen.html","eq":"\\(\\hat A|a\\rangle=a|a\\rangle\\)","tags":["spectra"],"blurb":"Spectra, completeness, and measurement statistics from eigen-expansions."},
  {"id":"q-unc","title":"Uncertainty & Non-commuting","domain":"quantum","method":"theory","diff":"intro","href":"uncertainty.html","eq":"\\(\\Delta x\\,\\Delta p\\ge \\hbar/2\\)","tags":["limits"],"blurb":"Limits from operator order; not about sloppy instruments."},
  {"id":"q-spin","title":"Spin & Stern–Gerlach","domain":"quantum","method":"experiment","diff":"intro","href":"spin-stern-gerlach.html","eq":"Pauli matrices","tags":["two-state"],"blurb":"Two-state physics, rotations, sequential analyzers and path information."},
  {"id":"q-rabi","title":"Two-Level Systems & Rabi","domain":"quantum","method":"theory","diff":"intermediate","href":"two-level-rabi.html","eq":"\\(\\Omega_R\\)","tags":["qubit"],"blurb":"Driven qubits, resonance, and the Bloch sphere picture."},
  {"id":"q-path","title":"Path Integrals (intro)","domain":"quantum","method":"theory","diff":"advanced","href":"path-integrals.html","eq":"\\(\\int\\!\\mathcal D[x]\,e^{iS/\\hbar}\\)","tags":["action"],"blurb":"Sum over histories; classical paths from stationary action."},
  {"id":"q-bell","title":"Entanglement & Bell Tests","domain":"quantum","method":"experiment","diff":"intermediate","href":"bell-inequalities.html","eq":"CHSH","tags":["nonlocal"],"blurb":"Correlations beyond local realism; loophole-free tests and info flow."},
  {"id":"q-density","title":"Density Matrices & Mixed States","domain":"quantum","method":"theory","diff":"intermediate","href":"density-matrix.html","eq":"\\(\\rho=\\sum p_i|\\psi_i\\rangle\\langle\\psi_i|\\)","tags":["open systems"],"blurb":"Partial trace, decoherence, and statistical mixtures."},
  {"id":"q-tele","title":"Quantum Teleportation","domain":"quantum","method":"experiment","diff":"intermediate","href":"teleportation.html","eq":"Bell pair + 2 cbits","tags":["protocols"],"blurb":"State transfer via entanglement and classical communication."},

  /* Relativity */
  {"id":"r-post","title":"Postulates of SR","domain":"relativity","method":"theory","diff":"intro","href":"sr-postulates.html","eq":"invariance of \\(c\\)","tags":["principles"],"blurb":"All inertial frames share laws; light speed is constant for all observers."},
  {"id":"r-lorentz","title":"Lorentz Transformations","domain":"relativity","method":"theory","diff":"intro","href":"lorentz-transformations.html","eq":"\\(\\gamma=1/\\sqrt{1-v^2/c^2}\\)","tags":["dilation","contraction"],"blurb":"Time dilation, length contraction, and simultaneity across frames."},
  {"id":"r-4vec","title":"4-Vectors & Minkowski Space","domain":"relativity","method":"theory","diff":"intermediate","href":"minkowski.html","eq":"\\(s^2=c^2 t^2-\\vec x^2\\)","tags":["invariants"],"blurb":"Invariant intervals and the energy–momentum 4-vector."},
  {"id":"r-schwarz","title":"Schwarzschild Metric","domain":"relativity","method":"theory","diff":"advanced","href":"schwarzschild.html","eq":"\\(ds^2=(1-\\tfrac{2GM}{rc^2})c^2dt^2-…\\)","tags":["black holes"],"blurb":"Orbits, precession, redshift, and horizons near compact masses."},
  {"id":"r-gw","title":"Gravitational Waves","domain":"relativity","method":"experiment","diff":"intermediate","href":"gravitational-waves.html","eq":"strain \\(h(t)\\)","tags":["interferometers"],"blurb":"Quadrupole radiation; detectors and astrophysical sources."},

  /* Thermo/StatMech */
  {"id":"t-laws","title":"Laws of Thermodynamics","domain":"thermo","method":"theory","diff":"intro","href":"thermo-laws.html","eq":"\\(dU=\\delta Q-\\delta W\\)","tags":["engines"],"blurb":"State variables, reversible/irreversible processes, and efficiencies."},
  {"id":"t-entropy","title":"Entropy & Information","domain":"thermo","method":"theory","diff":"intro","href":"entropy-info.html","eq":"\\(S=k\\ln\\Omega\\)","tags":["microstates"],"blurb":"Counting microstates; the link between thermodynamics and information."},
  {"id":"t-ensembles","title":"Ensembles & Partition Function","domain":"thermo","method":"theory","diff":"intermediate","href":"ensembles-partition.html","eq":"\\(Z=\\sum e^{-\\beta E_i}\\)","tags":["fluctuations"],"blurb":"Average any quantity; fluctuations and response functions."},
  {"id":"t-ising","title":"Ising Model & Phase Transitions","domain":"thermo","method":"theory","diff":"advanced","href":"ising.html","eq":"critical exponents","tags":["universality"],"blurb":"Order parameters, universality, and scaling near critical points."},

  /* Optics */
  {"id":"o-int","title":"Interference & Diffraction","domain":"optics","method":"experiment","diff":"intro","href":"interference-diffraction.html","eq":"\\(\\Delta y\\approx\\lambda L/d\\)","tags":["slits","gratings"],"blurb":"How path differences control fringe spacing and intensity patterns."},
  {"id":"o-fourier","title":"Fourier Optics","domain":"optics","method":"theory","diff":"intermediate","href":"fourier-optics.html","eq":"FT lenses","tags":["imaging"],"blurb":"Spatial frequencies; lenses as Fourier transformers for images."},
  {"id":"o-cav","title":"Optical Cavities & Q","domain":"optics","method":"theory","diff":"intermediate","href":"optical-cavities.html","eq":"FSR, finesse","tags":["resonance"],"blurb":"Standing waves, stability, finesse, and line narrowing."},

  /* Condensed Matter */
  {"id":"cm-crystal","title":"Crystals & Brillouin Zones","domain":"condensed","method":"theory","diff":"intro","href":"crystals-brillouin.html","eq":"reciprocal lattice","tags":["bloch"],"blurb":"Bloch’s theorem, Brillouin zones, and band formation."},
  {"id":"cm-band","title":"Bands, Gaps, Effective Mass","domain":"condensed","method":"theory","diff":"intermediate","href":"bands-gaps.html","eq":"dispersion","tags":["semiconductors"],"blurb":"Why semiconductors conduct and how effective mass helps predict motion."},
  {"id":"cm-sc","title":"Superconductivity (BCS)","domain":"condensed","method":"theory","diff":"advanced","href":"superconductivity-bcs.html","eq":"gap \\(\\Delta\\)","tags":["cooper"],"blurb":"Cooper pairing, Meissner effect, Josephson junctions, and devices."},
  {"id":"cm-topo","title":"Topological Insulators","domain":"condensed","method":"theory","diff":"advanced","href":"topological-insulators.html","eq":"Berry phase","tags":["edge states"],"blurb":"Protected edge modes and spin–orbit coupling fingerprints."},

  /* Particle & Field */
  {"id":"p-sm","title":"Standard Model","domain":"particle","method":"theory","diff":"intro","href":"standard-model.html","eq":"\\(SU(3)\\times SU(2)\\times U(1)\\)","tags":["gauge"],"blurb":"Gauge fields, fermions, Higgs mechanism, and open questions."},
  {"id":"p-qcd","title":"QCD & Confinement","domain":"particle","method":"theory","diff":"advanced","href":"qcd-confinement.html","eq":"running \\(\\alpha_s\\)","tags":["hadrons"],"blurb":"Asymptotic freedom vs hadron binding; why quarks are confined."},
  {"id":"p-neutrino","title":"Neutrino Oscillations","domain":"particle","method":"experiment","diff":"intermediate","href":"neutrino-oscillations.html","eq":"\\(P_{\\alpha\\to\\beta}\\)","tags":["mixing"],"blurb":"Baseline and energy control flavor change via mass splittings."},
  {"id":"p-eft","title":"Effective Field Theory","domain":"particle","method":"theory","diff":"advanced","href":"eft.html","eq":"power counting","tags":["scales"],"blurb":"Low-energy predictions without full UV detail; symmetry as guide."},

  /* Cosmo & Astro */
  {"id":"a-frw","title":"FLRW & Friedmann","domain":"cosmo","method":"theory","diff":"intro","href":"flrw-friedmann.html","eq":"scale factor","tags":["expansion"],"blurb":"How energy density and curvature set the expansion history."},
  {"id":"a-cmb","title":"Cosmic Microwave Background","domain":"cosmo","method":"experiment","diff":"intermediate","href":"cmb.html","eq":"\\(C_\\ell\\)","tags":["anisotropy"],"blurb":"Acoustic peaks as a fossil record of the early universe."},
  {"id":"a-dark","title":"Dark Matter & Dark Energy","domain":"cosmo","method":"theory","diff":"intro","href":"dark-sector.html","eq":"\\(\\Omega_m,\\Omega_\\Lambda\\)","tags":["evidence"],"blurb":"Independent lines of evidence and the puzzles they raise."},

  /* Methods */
  {"id":"m-noether","title":"Noether’s Theorem","domain":"methods","method":"theory","diff":"intermediate","href":"noether-symmetry.html","eq":"symmetry ↔ conservation","tags":["invariance"],"blurb":"Time→energy, space→momentum, rotation→angular momentum."},
  {"id":"m-fft","title":"Fourier / Spectral Methods","domain":"methods","method":"compute","diff":"intro","href":"fourier-methods.html","eq":"FFT","tags":["filters"],"blurb":"Time–frequency perspective that simplifies patterns and noise."},
  {"id":"m-ode","title":"ODE/PDE Solvers","domain":"methods","method":"compute","diff":"intermediate","href":"ode-pde.html","eq":"stability","tags":["numerics"],"blurb":"Stiffness, steps, boundary strategies, and sanity checks."},
  {"id":"m-stats","title":"Uncertainty & Fitting","domain":"methods","method":"compute","diff":"intro","href":"uncertainty-fitting.html","eq":"\\(\\chi^2\\), posteriors","tags":["inference"],"blurb":"Report errors honestly; residual plots first before fancy fits."},

  /* Metaphysics */
  {"id":"meta-interp","title":"Interpretations of Quantum","domain":"meta","method":"theory","diff":"intro","href":"meta-quantum-interpretations.html","eq":"Everett/Bohm/GRW","tags":["measurement"],"blurb":"Same predictions, different stories; what is gained and what is assumed."},
  {"id":"meta-time","title":"Arrows of Time","domain":"meta","method":"theory","diff":"intermediate","href":"arrows-of-time.html","eq":"entropy","tags":["irreversibility"],"blurb":"Microscopic reversibility vs macroscopic directionality and records."},
  {"id":"meta-object","title":"Measurement & Objectivity","domain":"meta","method":"theory","diff":"intro","href":"measurement-objectivity.html","eq":"records","tags":["epistemology"],"blurb":"Why shared records matter for science and what counts as evidence."}
]
</script>

<!-- ================ JS ================ -->
<script>
/* progress & top button */
const bar=document.getElementById('progress'), topBtn=document.getElementById('toTop');
function onScroll(){ const h=document.documentElement, st=h.scrollTop||document.body.scrollTop, sh=h.scrollHeight-h.clientHeight;
  bar.style.width=(Math.max(0,Math.min(1,st/sh))*100)+'%'; topBtn.classList.toggle('show', st>600); }
addEventListener('scroll', onScroll); onScroll();
topBtn.onclick=()=>scrollTo({top:0,behavior:'smooth'});

/* reveal */
const obs=new IntersectionObserver(es=>{ es.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target);} }); },{threshold:.18});
document.querySelectorAll('.reveal').forEach(el=>{ if(!el.classList.contains('in')) obs.observe(el); });

/* DATA */
const DATA = JSON.parse(document.getElementById('conceptsData').textContent);

/* walls by domain */
const walls = {
  classical:  document.getElementById('grid-classical'),
  em:         document.getElementById('grid-em'),
  quantum:    document.getElementById('grid-quantum'),
  relativity: document.getElementById('grid-relativity'),
  thermo:     document.getElementById('grid-thermo'),
  optics:     document.getElementById('grid-optics'),
  condensed:  document.getElementById('grid-condensed'),
  particle:   document.getElementById('grid-particle'),
  cosmo:      document.getElementById('grid-cosmo'),
  methods:    document.getElementById('grid-methods'),
  meta:       document.getElementById('grid-meta')
};

/* favorites + notes */
const KEY_FAV='qpx_concepts_fav_v8', KEY_NOTE='qpx_concepts_notes_v5';
function loadFav(){ try{return JSON.parse(localStorage.getItem(KEY_FAV)||'[]');}catch(e){return [];} }
function saveFav(a){ localStorage.setItem(KEY_FAV, JSON.stringify(a)); }
function loadNotes(){ try{return JSON.parse(localStorage.getItem(KEY_NOTE)||'[]');}catch(e){return [];} }
function saveNotes(a){ localStorage.setItem(KEY_NOTE, JSON.stringify(a)); }
const nbList=document.getElementById('nbList');
function renderNotes(){
  const notes=loadNotes(); nbList.innerHTML='';
  if(!notes.length){ nbList.innerHTML='<p class="count" style="color:var(--muted)">No notes yet.</p>'; return; }
  notes.forEach(n=>{
    const div=document.createElement('div'); div.className='note'; div.dataset.id=n.id;
    div.innerHTML=`<time>${new Date(n.time).toLocaleString()}</time><p>${n.text}</p><button class="del">Remove</button>`;
    nbList.appendChild(div);
  });
}
renderNotes();
document.getElementById('saveFree').onclick=()=>{
  const box=document.getElementById('free'); const t=box.value.trim(); if(!t) return;
  const arr=loadNotes(); arr.push({id:'n'+Date.now(), text:t, time:Date.now()}); saveNotes(arr); renderNotes(); box.value='';
};
document.getElementById('clearAll').onclick=()=>{ if(!confirm('Clear all saved notes?')) return; localStorage.removeItem(KEY_NOTE); renderNotes(); };
nbList.addEventListener('click',e=>{
  if(!e.target.classList.contains('del')) return;
  const id=e.target.closest('.note').dataset.id;
  const arr=loadNotes().filter(n=>n.id!==id); saveNotes(arr); renderNotes();
});

/* build a card (interactive, tags clickable, star fav) */
function makeCard(item){
  const favSet=new Set(loadFav());
  const div=document.createElement('div');
  div.className='card';
  div.dataset.domain=item.domain;
  div.dataset.method=item.method;
  div.dataset.diff=item.diff||'intro';
  div.dataset.title=item.title.toLowerCase();
  div.dataset.tags=(item.tags||[]).join('|').toLowerCase();
  div.dataset.when=Date.now(); /* simple recency seed on build; replace with real "added" timestamps if you want */

  const tagsHtml=(item.tags||[]).map(t=>`<span class="tag t3" data-tag="${t}">${t}</span>`).join('');
  div.innerHTML = `
    <button class="star ${favSet.has(item.id)?'active':''}" title="Pin">★</button>
    <h4>${item.title}</h4>
    <div class="meta">
      <span class="tag">${item.method==='theory'?'Theory':item.method==='experiment'?'Experiment':'Computation'}</span>
      <span class="diff">${(item.diff||'intro').replace(/^./,m=>m.toUpperCase())}</span>
      ${item.domain==='methods'?'<span class="tag t2">Cross-cutting</span>':''}
      ${tagsHtml}
    </div>
    <p>${item.blurb}</p>
    <div class="eq">${item.eq||''}</div>
    <div class="links">
      <a href="${item.href}">Open article →</a>
      <a href="#!" class="addNote">Save note</a>
      <a href="#!" class="filterLike">Find similar</a>
    </div>
  `;

  /* pin favorites */
  div.querySelector('.star').onclick=()=>{
    const set=new Set(loadFav());
    const id=item.id;
    if(set.has(id)){ set.delete(id); div.querySelector('.star').classList.remove('active'); }
    else { set.add(id); div.querySelector('.star').classList.add('active'); }
    saveFav([...set]); apply(); // update sorting if "fav first"
  };
  /* tag click adds to filters */
  div.querySelectorAll('.tag.t3').forEach(tg=>{
    tg.addEventListener('click',()=>{
      const tag=tg.dataset.tag;
      addFilterChip('tag', tag);
      apply();
    });
  });
  /* save snippet to notebook */
  div.querySelector('.addNote').onclick=(e)=>{
    e.preventDefault();
    const snippet = `${item.title}: ${item.blurb}`;
    const arr=loadNotes(); arr.push({id:'n'+Date.now(), text:snippet, time:Date.now()}); saveNotes(arr); renderNotes();
  };
  /* find similar by domain+tags */
  div.querySelector('.filterLike').onclick=(e)=>{
    e.preventDefault();
    addFilterChip('domain', item.domain);
    (item.tags||[]).slice(0,1).forEach(t=>addFilterChip('tag', t));
    apply();
    // jump to the section selected
    const sec = document.querySelector(`#sec-${item.domain==='em'?'em':item.domain}`);
    if(sec) sec.scrollIntoView({behavior:'smooth',block:'start'});
  };

  return div;
}

/* seed sections with cards */
function seed(){
  Object.values(walls).forEach(w=>w.innerHTML='');
  DATA.forEach(it=>{ const w=walls[it.domain]; if(w) w.appendChild(makeCard(it)); });
  countUpdate();
}
seed();

/* FILTER STATE */
let FDOMAIN='all', FMETHOD='any', FDIFF='any', Q='', ONLY_FAV=false, TAGS=new Set(), SORT='az';
const pills=[...document.querySelectorAll('.pill')];
const countLine=document.getElementById('countLine');
const activeFilters=document.getElementById('activeFilters');
const sortSel=document.getElementById('sortSel');
const favToggle=document.getElementById('favToggle');

function setActive(groupAttr, el){
  pills.filter(x=>x.dataset[groupAttr]).forEach(x=>x.classList.toggle('active',x===el));
}

pills.forEach(p=>{
  if(p.dataset.domain){
    p.addEventListener('click',()=>{ FDOMAIN=p.dataset.domain; setActive('domain',p); addFilterChip('domain',FDOMAIN==='all'?'All Domains':FDOMAIN,true); apply();
      if(FDOMAIN!=='all'){ document.querySelector(`#sec-${FDOMAIN==='em'?'em':FDOMAIN}`).scrollIntoView({behavior:'smooth',block:'start'}); }
    });
  }
  if(p.dataset.method){
    p.addEventListener('click',()=>{ FMETHOD=p.dataset.method; setActive('method',p); addFilterChip('method', FMETHOD==='any'?'Any Method':FMETHOD,true); apply(); });
  }
  if(p.dataset.diff){
    p.addEventListener('click',()=>{ FDIFF=p.dataset.diff; setActive('diff',p); addFilterChip('diff', FDIFF==='any'?'Any Level':FDIFF,true); apply(); });
  }
});

document.getElementById('search').addEventListener('input',e=>{ Q=e.target.value.toLowerCase(); apply(); });

sortSel.addEventListener('change',()=>{ SORT=sortSel.value; apply(true); });
favToggle.addEventListener('click',()=>{ ONLY_FAV=!ONLY_FAV; favToggle.classList.toggle('active', ONLY_FAV); addFilterChip('fav', ONLY_FAV?'Favorites':'All', true); apply(); });

document.getElementById('clearFilters').addEventListener('click',()=>{
  FDOMAIN='all'; FMETHOD='any'; FDIFF='any'; Q=''; ONLY_FAV=false; TAGS.clear();
  document.getElementById('search').value='';
  pills.forEach(p=>{
    if(p.dataset.domain) p.classList.toggle('active', p.dataset.domain==='all');
    if(p.dataset.method) p.classList.toggle('active', p.dataset.method==='any');
    if(p.dataset.diff)   p.classList.toggle('active', p.dataset.diff==='any');
  });
  favToggle.classList.remove('active');
  activeFilters.innerHTML='';
  apply(true);
});

/* active filter chips management */
function addFilterChip(kind, value, replace=false){
  const id=`chip-${kind}`;
  if(kind==='tag'){ TAGS.add(value.toLowerCase()); } 
  else {
    // replace chip of that kind
    const existing=document.getElementById(id);
    if(existing) existing.remove();
  }
  const chip=document.createElement('span'); chip.className='chip'; chip.id=id;
  chip.dataset.kind=kind;
  chip.innerHTML=`${kind==='tag'?'#':''}${value} <button title="remove">×</button>`;
  if(kind!=='tag') activeFilters.appendChild(chip);
  if(kind==='tag'){ // show all tags as separate chips
    renderTagChips();
  }
  chip.addEventListener('click',e=>{
    if(e.target.tagName!=='BUTTON') return;
    if(kind==='tag'){
      TAGS.delete(value.toLowerCase());
      renderTagChips();
    }else{
      chip.remove();
      if(kind==='domain'){ FDOMAIN='all'; pills.filter(x=>x.dataset.domain).forEach(x=>x.classList.toggle('active',x.dataset.domain==='all')); }
      if(kind==='method'){ FMETHOD='any'; pills.filter(x=>x.dataset.method).forEach(x=>x.classList.toggle('active',x.dataset.method==='any')); }
      if(kind==='diff'){ FDIFF='any'; pills.filter(x=>x.dataset.diff).forEach(x=>x.classList.toggle('active',x.dataset.diff==='any')); }
      if(kind==='fav'){ ONLY_FAV=false; favToggle.classList.remove('active'); }
    }
    apply();
  });
}
function renderTagChips(){
  // remove existing #tag chips
  [...activeFilters.querySelectorAll('.chip[data-kind="tag"]')].forEach(c=>c.remove());
  TAGS.forEach(t=>{
    const chip=document.createElement('span'); chip.className='chip'; chip.dataset.kind='tag';
    chip.innerHTML=`#${t} <button title="remove">×</button>`;
    activeFilters.appendChild(chip);
    chip.addEventListener('click',e=>{
      if(e.target.tagName!=='BUTTON') return;
      TAGS.delete(t); renderTagChips(); apply();
    });
  });
}

/* apply filters + sorting */
function apply(resort=false){
  const favSet=new Set(loadFav());
  const cards=[...document.querySelectorAll('.card')];
  let total=0, shown=0;

  cards.forEach(c=>{
    total++;
    const okFav = !ONLY_FAV || favSet.has(findCardId(c));
    const okD=(FDOMAIN==='all')||(c.dataset.domain===FDOMAIN);
    const okM=(FMETHOD==='any')||(c.dataset.method===FMETHOD);
    const okL=(FDIFF==='any')||(c.dataset.diff===FDIFF);
    const okQ=!Q || c.dataset.title.includes(Q) || c.dataset.tags.includes(Q);
    const okT = TAGS.size===0 || [...TAGS].every(t=>c.dataset.tags.includes(t));
    const vis=okFav && okD && okM && okL && okQ && okT;
    c.style.display=vis?'':'none';
    if(vis) shown++;
  });

  if(resort) sortCards(SORT);

  countUpdate(shown,total);

  // If filtering to a single domain, ensure that section is visible and others still show but empty results will naturally hide cards.
}
function countUpdate(shown, total){
  if(shown==null || total==null){
    const all=[...document.querySelectorAll('.card')];
    shown=all.filter(c=>c.style.display!== 'none').length;
    total=all.length;
  }
  countLine.textContent=`Showing ${shown} of ${total}`;
}

/* sorting across each grid */
function sortCards(mode){
  Object.values(walls).forEach(grid=>{
    const cards=[...grid.children];
    const favSet=new Set(loadFav());
    cards.sort((a,b)=>{
      const ta=a.querySelector('h4').textContent.toLowerCase();
      const tb=b.querySelector('h4').textContent.toLowerCase();
      if(mode==='az') return ta.localeCompare(tb);
      if(mode==='za') return tb.localeCompare(ta);
      if(mode==='recent') return (parseInt(b.dataset.when||'0') - parseInt(a.dataset.when||'0'));
      if(mode==='fav'){
        const af=favSet.has(findCardId(a))?1:0, bf=favSet.has(findCardId(b))?1:0;
        if(bf!==af) return bf-af; // favs first
        return ta.localeCompare(tb);
      }
      // domain sorting handled by structure (already grouped)
      return 0;
    });
    cards.forEach(c=>grid.appendChild(c));
  });
}
function findCardId(card){
  // derive from link href which matches unique article
  const href=card.querySelector('.links a')?.getAttribute('href')||'';
  return href.replace(/\.html.*/,'');
}

/* seed eq rendering after first paint */
if(window.MathJax && MathJax.typesetPromise){ MathJax.typesetPromise(); }

/* init */
apply(true);

/* keyboard nicety: press / to focus search */
addEventListener('keydown',e=>{
  if(e.key==='/' && document.activeElement.tagName!=='INPUT' && document.activeElement.tagName!=='TEXTAREA'){
    e.preventDefault(); document.getElementById('search').focus();
  }
});
</script>
</body>
</html>
