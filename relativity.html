<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QParadox • Relativity</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>

<!-- MathJax -->
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
:root{
  --bg:#0b0b0d; --panel:#131316; --ink:#efeae2; --ink2:#d8d1c8; --muted:#b9b3aa;
  --gold:#caa36b; --blue:#7aa0ff; --line:rgba(255,255,255,.14); --glass:rgba(255,255,255,.06);
  --shadow:0 18px 60px rgba(0,0,0,.72), inset 0 0 120px rgba(255,255,255,.03);
  --radius:18px; --side:330px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--ink);
  font-family:"Crimson Text",serif; line-height:1.95; letter-spacing:.15px; overflow-x:hidden;
}
body::before{content:""; position:fixed; inset:0; z-index:-3; opacity:.06;
  background:url('https://www.transparenttextures.com/patterns/asfalt-dark.png')}
body::after{content:""; position:fixed; inset:0; z-index:-2; pointer-events:none;
  background:
    radial-gradient(900px 520px at 12% 0%, rgba(255,222,180,.09), transparent 60%),
    radial-gradient(900px 520px at 88% 12%, rgba(140,160,255,.06), transparent 60%),
    radial-gradient(1000px 620px at 50% 100%, rgba(202,163,107,.07), transparent 70%)}

/* frame + progress */
.frame{position:fixed; inset:18px; border:1px solid var(--line); border-radius:22px; pointer-events:none; box-shadow:inset 0 0 140px rgba(0,0,0,.45)}
#progress{position:fixed; top:0; left:0; height:4px; width:0; z-index:100; background:linear-gradient(90deg,var(--gold),var(--blue)); box-shadow:0 0 10px rgba(202,163,107,.6)}

/* header */
header{padding:6.2rem 1.2rem 2.4rem; text-align:center}
h1{
  font-family:"Playfair Display",serif; font-weight:900; margin:0;
  font-size:clamp(2.6rem,4vw,4.8rem); line-height:1.1; color:#f5ead8; text-shadow:0 0 22px rgba(255,255,255,.12)
}
.subtitle{max-width:980px; margin:1rem auto 0; color:var(--ink2); font-size:clamp(1.05rem,1.2vw,1.2rem)}

/* layout */
.main{width:min(1200px,94%); margin:0 auto 4rem; display:grid; grid-template-columns:1fr; gap:26px}
@media(min-width:1120px){ .main{grid-template-columns:minmax(0, 1fr) var(--side)} }

/* article */
article{
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:2.2rem 1.2rem
}
@media(min-width:780px){ article{padding:2.6rem 2.2rem} }
article h2{font-family:"Playfair Display",serif; margin:2rem 0 1rem; font-size:clamp(1.85rem,2.6vw,2.5rem); color:#f6eddc}
.divider{height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1.2rem 0}
p{margin:1.05rem 0; text-align:justify}
.dropcap:first-letter{float:left; font-family:"Playfair Display",serif; font-size:3.2rem; line-height:2.3rem; padding:.25rem .5rem .2rem 0; color:#f3e4c5}

/* figures */
.figure{
  margin:1.5rem auto; border:1px solid var(--line); border-radius:14px; overflow:hidden;
  background:#0e0f12; box-shadow:var(--shadow); max-width:820px
}
.figure img{display:block; width:100%; height:auto}
.figcap{padding:.7rem .9rem; color:var(--ink2); font-size:.95rem; border-top:1px solid var(--line)}

/* highlight button */
.pwrap{position:relative; padding-right:2.5rem}
.hlbtn{
  position:absolute; right:.2rem; top:.35rem; padding:.25rem .6rem; border-radius:.6rem;
  background:var(--glass); color:var(--ink); border:1px solid var(--line);
  font-size:.85rem; cursor:pointer; opacity:0; transition:.2s
}
.pwrap:hover .hlbtn{opacity:1}
.mark{background:linear-gradient(180deg, rgba(202,163,107,.3), rgba(122,160,255,.24)); border-radius:.2rem; padding:.05rem .12rem}

/* sidebar */
aside{
  position:sticky; top:90px; align-self:start; height:fit-content;
  background:linear-gradient(180deg,rgba(255,255,255,.055),rgba(255,255,255,.03));
  border:1px solid var(--line); border-radius:16px; box-shadow:var(--shadow); padding:1rem .9rem
}
aside h3{margin:.2rem 0 .7rem; font-family:"Playfair Display",serif}
.toc a{display:block; text-decoration:none; color:var(--ink2); padding:.35rem .2rem; border-radius:.4rem; font-size:.95rem}
.toc a:hover{color:var(--ink)}
.toc a.active{color:#111; background:linear-gradient(90deg,var(--gold),#efd6a8)}
hr.sep{border:0; height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:1rem 0}
.note{border:1px solid var(--line); border-radius:12px; padding:.7rem .75rem; margin:.5rem 0; background:rgba(255,255,255,.05)}
.note time{display:block; color:var(--muted); font-size:.85rem}
.note .del{margin-top:.4rem; padding:.25rem .55rem; border-radius:.5rem; border:1px solid var(--line); background:var(--glass); color:var(--ink); cursor:pointer}

/* quiz */
.quiz{
  margin-top:1.6rem; padding:1rem; border:1px solid var(--line); border-radius:14px;
  background:rgba(255,255,255,.04)
}
.qitem{margin:1rem 0; padding:.8rem; border-radius:10px; border:1px solid rgba(255,255,255,.12)}
.qitem h4{margin:0 0 .5rem 0; font-family:"Playfair Display",serif}
.qchoices{display:grid; gap:.45rem}
.qchoices button{
  text-align:left; border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.05);
  color:var(--ink); padding:.55rem .7rem; border-radius:.6rem; cursor:pointer
}
.qchoices button.correct{border-color:#46d17d}
.qchoices button.wrong{border-color:#e07070}
.qfeedback{color:var(--ink2); margin-top:.4rem; font-size:.98rem}

/* nav links */
.nextrow{display:flex; gap:.6rem; flex-wrap:wrap; margin-top:1.3rem}
.nextrow a{text-decoration:none; color:var(--ink); border:1px solid rgba(255,255,255,.26); border-radius:.8rem;
  background:linear-gradient(90deg,rgba(202,163,107,.28),rgba(122,160,255,.22)); padding:.7rem 1rem}

/* reveal + footer */
.reveal{opacity:0; transform:translateY(24px); transition:opacity .9s, transform .9s}
.reveal.in{opacity:1; transform:none}
footer{padding:2rem 1rem; text-align:center; color:var(--muted); border-top:1px solid var(--line)}
</style>
</head>
<body>

<div class="frame" aria-hidden="true"></div>
<div id="progress"></div>

<header class="reveal in">
  <h1>Relativity</h1>
  <p class="subtitle">From Einstein’s startling postulates to the bending of spacetime, relativity reshaped physics, philosophy, and our cosmic imagination.</p>
</header>

<div class="main">
  <!-- ARTICLE -->
  <article id="article">

    <h2 id="special" class="reveal">Special Relativity Foundations</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p1">★ Highlight</button>
      <p id="p1" class="dropcap">
        In 1905, Albert Einstein proposed two deceptively simple postulates: the laws of physics are the same in all inertial frames, and the speed of light in vacuum is constant for all observers regardless of motion. These ideas shattered classical notions of space and time. No longer absolute, they became interwoven, forming the stage for what we now call <em>spacetime</em>. 
        From these postulates flow strange consequences: simultaneity becomes relative, lengths contract along the direction of motion, and moving clocks tick slower — all experimentally verified today.
      </p>
    </div>
    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p2">★ Highlight</button>
      <p id="p2">
        The first dramatic effect is <strong>time dilation</strong>. If a spaceship races near the speed of light, an onboard clock ticks slower compared to one on Earth. Mathematically, the elapsed time is related by
        \[
          \Delta t' = \frac{\Delta t}{\sqrt{1 - v^2/c^2}} .
        \]
        Countless experiments — from fast-moving particles in accelerators to atomic clocks on jets — confirm this stretching of time. What seems like a trick of mathematics is reality itself: motion alters the river of time.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p3">★ Highlight</button>
      <p id="p3" class="dropcap">
        A second outcome is <strong>length contraction</strong>. Objects moving at high speed shrink along their direction of motion, compressed by the same Lorentz factor. A meter stick racing past you appears shorter, though to someone moving with it, its length remains unchanged. Reality, it turns out, is frame-dependent.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p4">★ Highlight</button>
      <p id="p4">
        Even simultaneity, once assumed universal, dissolves. Two events judged simultaneous in one frame may occur at different times in another. The universe does not hand us a master clock — instead, time is woven together with space, each observer slicing spacetime in their own way.
      </p>
    </div>

    <h2 id="thought" class="reveal">Thought Experiments</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p5">★ Highlight</button>
      <p id="p5" class="dropcap">
        Einstein loved thought experiments. Imagine a train struck by lightning at both ends. To a passenger at the midpoint, the bolts appear simultaneous. To a trackside observer, the train moves forward, so the front strike reaches their eyes before the rear strike. Both views are valid, each dictated by relativity. 
        Such paradoxes, simple yet profound, reveal how deeply motion reshapes perception.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p6">★ Highlight</button>
      <p id="p6">
        The <em>Twin Paradox</em> makes this visceral. One twin travels on a high-speed journey through space and returns younger than the sibling left behind. Time has genuinely flowed differently for them. Far from philosophy, this has been tested with particles and precision clocks. The cosmos itself keeps score.
      </p>
    </div>

    <h2 id="emc2" class="reveal">Energy–Mass Equivalence</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p7">★ Highlight</button>
      <p id="p7" class="dropcap">
        From special relativity emerges one of science’s most famous equations:
        \[
          E = mc^2 .
        \]
        It reveals that mass is a form of energy, bound in the very fabric of matter. In nuclear reactions, tiny amounts of mass convert into enormous energy, powering the Sun and human technology alike. 
        The equation also hints at cosmic possibilities: stars shine, galaxies evolve, and the universe itself burns with the logic of relativity.
      </p>
    </div>

    <h2 id="general" class="reveal">General Relativity Foundations</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p8">★ Highlight</button>
      <p id="p8" class="dropcap">
        Special relativity dealt with inertial motion. But what of acceleration and gravity? Einstein’s answer was the <strong>equivalence principle</strong>: the effects of acceleration and gravity are locally indistinguishable. In a sealed elevator, you cannot tell if the force pressing you to the floor comes from gravity or from upward acceleration. 
        This insight suggested that gravity is not a force at all, but a manifestation of curved spacetime.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p9">★ Highlight</button>
      <p id="p9">
        In 1915, Einstein unveiled the <strong>field equations of general relativity</strong>:
        \[
          G_{\mu\nu} + \Lambda g_{\mu\nu} = \frac{8\pi G}{c^4} T_{\mu\nu} .
        \]
        They are compact yet profound, linking spacetime curvature \( G_{\mu\nu} \) to energy and momentum \( T_{\mu\nu} \). 
        Mass and energy tell spacetime how to curve; curved spacetime tells matter how to move. With this, Newton’s gravity gave way to a geometric vision of the cosmos.
      </p>
    </div>

    <h2 id="geometry" class="reveal">Geometry of Spacetime</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p10">★ Highlight</button>
      <p id="p10" class="dropcap">
        In relativity, geometry is destiny. Straight lines become <em>geodesics</em> — the natural paths objects follow through curved spacetime. The curvature is described mathematically by metrics and tensors, tools that replace the simple coordinates of Euclid. 
        Near Earth, this curvature is mild; near a black hole, it becomes extreme, tilting time and space into almost unimaginable configurations.
      </p>
    </div>
        <h2 id="tests" class="reveal">Tests of Relativity</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p11">★ Highlight</button>
      <p id="p11" class="dropcap">
        Relativity was not left in the realm of theory. In 1919, during a solar eclipse,
        Arthur Eddington measured the bending of starlight around the Sun, exactly as
        Einstein predicted. Newspapers declared, “Revolution in Science,” and the world
        knew Einstein’s name. This was the first great triumph of general relativity.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p12">★ Highlight</button>
      <p id="p12">
        Mercury’s orbit provided another test. For decades, astronomers puzzled over a
        small discrepancy in its perihelion shift that Newton’s laws could not explain.
        General relativity solved the riddle perfectly, with no extra assumptions. 
        Nature had written a clue in the sky, waiting for Einstein’s mathematics.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p13">★ Highlight</button>
      <p id="p13">
        Modern experiments confirm relativity every day. Atomic clocks on airplanes run
        slightly slower than those on Earth, as predicted. The Global Positioning System
        (GPS) must correct for both special and general relativistic effects to maintain
        accuracy. Without Einstein, your phone’s map would be useless within minutes.
      </p>
    </div>

    <h2 id="cosmic" class="reveal">Cosmic Consequences</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p14">★ Highlight</button>
      <p id="p14" class="dropcap">
        Relativity reshaped our cosmic imagination. The universe itself is dynamic, not
        static. Solutions to Einstein’s equations showed expansion or contraction, later
        confirmed by Edwin Hubble’s observations of receding galaxies. The cosmos has a
        history — a beginning and an evolving future.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p15">★ Highlight</button>
      <p id="p15">
        The theory also predicts black holes: regions where curvature becomes infinite and
        escape impossible. Once dismissed as mathematical oddities, black holes are now
        observed through their radiation, their gravitational waves, and even their
        silhouettes captured by telescopes. They are extreme yet natural children of
        relativity.
      </p>
    </div>

    <figure class="figure reveal">
      <img src="blackhole.jpg" alt="Black hole illustration"/>
      <figcaption class="figcap">
        Black holes: predictions of relativity confirmed by observation. Their horizons
        mark the edge of knowability.
      </figcaption>
    </figure>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p16">★ Highlight</button>
      <p id="p16">
        Time itself bends under gravity. Near massive bodies, clocks tick more slowly —
        an effect called gravitational time dilation. In science fiction, explorers near
        a black hole might return to find centuries have passed on Earth. This is not
        fantasy but physics, confirmed in laboratories and satellites.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p17">★ Highlight</button>
      <p id="p17">
        Even light can be trapped. A black hole’s event horizon is a one-way surface: once
        crossed, nothing, not even light, can return. Inside, space and time swap roles,
        leading inexorably to the singularity. Here, relativity meets its limit — a place
        where quantum physics must step in.
      </p>
    </div>
    <h2 id="applications" class="reveal">Applications in Technology</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p18">★ Highlight</button>
      <p id="p18" class="dropcap">
        Relativity is not only about distant stars and cosmic drama — it saturates
        modern technology. The Global Positioning System corrects for both the high-speed
        motion of satellites (special relativity) and their weaker gravitational field
        compared to Earth (general relativity). Without these corrections, your phone’s
        GPS would drift by kilometers each day.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p19">★ Highlight</button>
      <p id="p19">
        Particle accelerators, like CERN’s Large Hadron Collider, rely on relativity to
        calculate the motion of near-light-speed particles. Engineers use Einstein’s
        equations as routinely as they use Newton’s. Even medical technologies like PET
        scans trace back to \( E = mc^2 \), transforming mass into information that saves
        lives.
      </p>
    </div>

    <h2 id="quantum" class="reveal">Relativity Meets Quantum</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p20">★ Highlight</button>
      <p id="p20" class="dropcap">
        Yet relativity is not the final word. Quantum mechanics governs atoms and
        subatomic particles with rules that clash with general relativity’s smooth
        spacetime. Nowhere is this conflict sharper than in black holes, where quantum
        fields predict radiation (Hawking radiation) that slowly evaporates them, while
        relativity insists on perfect darkness. Which description is true? We do not yet
        know.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p21">★ Highlight</button>
      <p id="p21">
        Physicists search for a quantum theory of gravity that unites both frameworks.
        String theory, loop quantum gravity, and holographic dualities offer glimpses,
        suggesting spacetime may be emergent from deeper structures. The quest to merge
        Einstein and quantum mechanics remains the holy grail of theoretical physics.
      </p>
    </div>

    <h2 id="mysteries" class="reveal">Modern Mysteries</h2>
    <div class="divider"></div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p22">★ Highlight</button>
      <p id="p22" class="dropcap">
        Relativity also exposes mysteries at the largest scales. Observations reveal that
        most of the cosmos is made of <em>dark matter</em> and <em>dark energy</em>,
        substances whose nature is unknown. Dark energy, driving the accelerated
        expansion of the universe, behaves like a cosmological constant — the very term
        Einstein once introduced and later called his “greatest blunder.” Today, it may
        be the key to understanding the fate of the cosmos.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p23">★ Highlight</button>
      <p id="p23">
        The <strong>information paradox</strong> deepens the puzzle. If black holes
        evaporate, what happens to the information they swallowed? Quantum theory says
        information cannot be destroyed, while relativity seems to disagree. Resolving
        this paradox may require a radical rethinking of space, time, and reality itself.
      </p>
    </div>

    <div class="pwrap reveal">
      <button class="hlbtn" data-target="p24">★ Highlight</button>
      <p id="p24">
        Relativity began as the vision of one man rewriting the rules of space and time.
        Today, it remains both triumph and challenge: a framework that explains the
        motion of galaxies and the ticking of clocks, yet hints at deeper truths still
        hidden. Its equations bend light, sculpt time, and open doors to mysteries that
        may redefine what it means to understand the universe.
      </p>
    </div>
    <!-- Quiz -->
    <h2 id="quiz" class="reveal">Quick Quiz</h2>
    <div class="divider"></div>
    <section class="quiz reveal" id="quizSection">
      <div class="qitem">
        <h4>1) What are the two postulates of special relativity?</h4>
        <div class="qchoices" data-answer="b" data-explain="The laws of physics are the same in all inertial frames, and the speed of light is constant for all observers.">
          <button data-choice="a">Time is absolute and space is relative</button>
          <button data-choice="b">Physics is the same in all inertial frames; speed of light is constant</button>
          <button data-choice="c">Energy is always conserved regardless of frame</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>2) What experimental observation first confirmed general relativity?</h4>
        <div class="qchoices" data-answer="c" data-explain="The 1919 solar eclipse showed starlight bending around the Sun.">
          <button data-choice="a">Mercury’s orbit anomaly</button>
          <button data-choice="b">Atomic clocks on airplanes</button>
          <button data-choice="c">Deflection of starlight during an eclipse</button>
        </div>
        <div class="qfeedback"></div>
      </div>

      <div class="qitem">
        <h4>3) Why must GPS account for relativity?</h4>
        <div class="qchoices" data-answer="a" data-explain="Satellites experience both special and general relativistic time shifts.">
          <button data-choice="a">Because of time dilation from speed and gravity</button>
          <button data-choice="b">Because satellites are higher up</button>
          <button data-choice="c">Because the Earth rotates</button>
        </div>
        <div class="qfeedback"></div>
      </div>
    </section>

    <div class="nextrow reveal">
      <a href="electromagnetism.html">← Back to Electromagnetism</a>
      <a href="quantum-mechanics.html">Next page → Quantum Mechanics</a>
    </div>

  </article>

  <!-- Sidebar -->
  <aside class="reveal">
    <h3>Contents</h3>
    <div id="toc" class="toc"></div>
    <hr class="sep"/>
    <h3>Notebook</h3>
    <p style="color:var(--ink2); margin:.1rem 0 .6rem">Click ★ next to any paragraph to save it here.</p>
    <div id="nbList"></div>
  </aside>
</div>

<footer>© 2025 QParadox</footer>

<script>
/* progress bar */
const bar=document.getElementById('progress');
function onScroll(){
  const h=document.documentElement, st=h.scrollTop||document.body.scrollTop, sh=h.scrollHeight-h.clientHeight;
  bar.style.width=(Math.max(0,Math.min(1,st/sh))*100)+'%';
}
addEventListener('scroll', onScroll); onScroll();

/* reveal on scroll */
const obs=new IntersectionObserver(es=>{ es.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('in'); obs.unobserve(e.target);} }); },{threshold:.18});
document.querySelectorAll('.reveal').forEach(el=>{ if(!el.classList.contains('in')) obs.observe(el); });

/* TOC */
const toc=document.getElementById('toc');
const heads=[...document.querySelectorAll('#article h2')];
heads.forEach(h=>{ const a=document.createElement('a'); a.href='#'+h.id; a.textContent=h.textContent; toc.appendChild(a); });
function spy(){
  const y=scrollY+140; let idx=-1;
  heads.forEach((s,i)=>{ if(s.offsetTop<=y && s.offsetTop+s.offsetHeight>y) idx=i; });
  [...toc.querySelectorAll('a')].forEach((a,i)=>a.classList.toggle('active',i===idx));
}
addEventListener('scroll', spy); spy();

/* notebook */
const KEY='qpx_notes_relativity';
const listEl=document.getElementById('nbList');
function load(){ try{return JSON.parse(localStorage.getItem(KEY)||'[]');}catch(e){return []}}
function save(data){ localStorage.setItem(KEY, JSON.stringify(data)); }
function render(){
  const notes=load(); listEl.innerHTML='';
  if(notes.length===0){ listEl.innerHTML='<p style="color:var(--muted)">No highlights yet.</p>'; return; }
  notes.forEach(n=>{
    const div=document.createElement('div'); div.className='note'; div.dataset.id=n.id;
    div.innerHTML=`<time>${new Date(n.time).toLocaleString()}</time><p>${n.text}</p><button class="del">Remove</button>`;
    listEl.appendChild(div);
  });
}
render();
document.querySelectorAll('.hlbtn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const id=btn.dataset.target, p=document.getElementById(id);
    if(!p) return;
    p.classList.add('mark');
    const notes=load(); notes.push({id:'n'+Date.now(), text:p.textContent.trim(), time:Date.now(), para:id});
    save(notes); render();
  });
});
listEl.addEventListener('click',e=>{
  if(!e.target.classList.contains('del')) return;
  const id=e.target.closest('.note').dataset.id;
  const notes=load().filter(x=>x.id!==id); save(notes); render();
});
</script>
</body>
</html>


